var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},starlingswf;!function(t){var e=function(t){function e(){return t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTextField=function(t){return this.getChildByName(t)},e.prototype.getMovie=function(t){return this.getChildByName(t)},e.prototype.getSprite=function(t){return this.getChildByName(t)},e.prototype.getImage=function(t){return this.getChildByName(t)},e}(egret.DisplayObjectContainer);t.SwfSprite=e,__reflect(e.prototype,"starlingswf.SwfSprite")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(e){function i(t,i,s,a){var n=e.call(this)||this;return n._isPlay=!1,n.loop=!0,n._completeFunction=null,n._hasCompleteListener=!1,n._frames=t,n._labels=i,n._displayObjects=s,n._startFrame=0,n._endFrame=n._frames.length-1,n._ownerSwf=a,n.setCurrentFrame(0),n.play(),n}return __extends(i,e),i.prototype.update=function(){if(this._isPlay)if(this._currentFrame>this._endFrame){if(this._hasCompleteListener&&this.dispatchEventWith(egret.Event.COMPLETE),this._currentFrame=this._startFrame,!this.loop)return void(this._ownerSwf&&this.stop(!1));if(this._startFrame==this._endFrame)return void(this._ownerSwf&&this.stop(!1));this.setCurrentFrame(this._startFrame)}else this.setCurrentFrame(this._currentFrame),this._currentFrame+=1},i.prototype.setCurrentFrame=function(e){this.removeChildren(),this._currentFrame=e,this.__frameInfos=this._frames[this._currentFrame];for(var i,s,a,n,r=this.__frameInfos.length,h=0;r>h;h++)i=this.__frameInfos[h],n=i[10],s=this._displayObjects[i[0]][n],s.skewX=i[6],s.skewY=i[7],s.alpha=i[8],s.name=i[9],s.x=i[2],s.y=i[3],i[1]==t.Swf.dataKey_Scale9?(s.width=i[11],s.height=i[12]):(s.scaleX=i[4],s.scaleY=i[5]),this.addChild(s),i[1]==t.Swf.dataKey_TextField&&(a=s,a.width=i[11],a.height=i[12],a.textColor=i[14],a.size=i[15],a.textAlign=i[16],i[19]&&"\r"!=i[19]&&""!=i[19]&&(a.text=i[19]))},i.prototype.getCurrentFrame=function(){return this._currentFrame},i.prototype.play=function(){this._isPlay=!0,this._ownerSwf.swfUpdateManager.addSwfAnimation(this);var e,i,s;for(e in this._displayObjects)if(0==e.indexOf(t.Swf.dataKey_MovieClip)){i=this._displayObjects[e],s=i.length;for(var a=0;s>a;a++)i[a].play()}},i.prototype.stop=function(e){if(void 0===e&&(e=!0),this._isPlay=!1,this._ownerSwf.swfUpdateManager.removeSwfAnimation(this),e){var i,s,a;for(i in this._displayObjects)if(0==i.indexOf(t.Swf.dataKey_MovieClip)){s=this._displayObjects[i],a=s.length;for(var n=0;a>n;n++)s[n].stop(e)}}},i.prototype.gotoAndStop=function(t,e){void 0===e&&(e=!0),this.goTo(t),this.stop(e)},i.prototype.gotoAndPlay=function(t){this.goTo(t),this.play()},i.prototype.goTo=function(t){if("string"==typeof t){var e=this.getLabelData(t);this._currentLabel=e[0],this._currentFrame=this._startFrame=e[1],this._endFrame=e[2]}else"number"==typeof t&&(this._currentFrame=this._startFrame=t,this._endFrame=this._frames.length-1);this.setCurrentFrame(this._currentFrame)},i.prototype.getLabelData=function(t){for(var e,i=this._labels.length,s=0;i>s;s++)if(e=this._labels[s],e[0]==t)return e;return null},i.prototype.isPlay=function(){return this._isPlay},i.prototype.totalFrames=function(){return this._frames.length},i.prototype.currentLabel=function(){return this._currentLabel},i.prototype.labels=function(){for(var t=this._labels.length,e=[],i=0;t>i;i++)e.push(this._labels[i][0]);return e},i.prototype.hasLabel=function(t){var e=this.labels();return!(-1==e.indexOf(t))},i.prototype.addEventListener=function(t,i,s,a,n){void 0===a&&(a=!1),void 0===n&&(n=0),e.prototype.addEventListener.call(this,t,i,s,a,n),this._hasCompleteListener=this.hasEventListener(egret.Event.COMPLETE)},i.prototype.removeEventListener=function(t,i,s,a){void 0===a&&(a=!1),e.prototype.removeEventListener.call(this,t,i,s,a),this._hasCompleteListener=this.hasEventListener(egret.Event.COMPLETE)},i}(t.SwfSprite);t.SwfMovieClip=e,__reflect(e.prototype,"starlingswf.SwfMovieClip",["starlingswf.ISwfAnimation"])}(starlingswf||(starlingswf={}));var ResourceUtils=function(){function t(){}return t.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},t.createBitmapFromSheet=function(t,e){void 0===e&&(e="gameRes");var i=RES.getRes(e),s=i.getTexture(t),a=new egret.Bitmap;return a.texture=s,a},t.getTextureFromSheet=function(t,e){void 0===e&&(e="gameRes");var i=RES.getRes(e),s=i.getTexture(t);return s},t}();__reflect(ResourceUtils.prototype,"ResourceUtils");var GameFightOneScene=function(t){function e(){var e=t.call(this)||this;return e.daoJiShiTotalTime=egret.getTimer()+6e4,e.btn1Num=0,e.btn2Num=0,e.btn3Num=0,e.curbtn1Num=0,e.curbtn2Num=0,e.curbtn3Num=0,e.btn1Arr=[],e.btn2Arr=[],e.btn3Arr=[],e.returnClick=!1,e.passTime=0,e.num=0,e._win=!1,e.curNum=0,e.canPlayNvren=!1,e.isPauseGame="",e.initView(),e}return __extends(e,t),e.prototype.initView=function(){var t=ResourceUtils.createBitmapByName("gamingbgImage");this.addChild(t),this.gameLayer=new egret.Sprite,this.addChild(this.gameLayer),this.gameView=new egret.Sprite,this.addChild(this.gameView),this.gameView.x=75,this.gameView.y=580,this.uiLayer=new egret.Sprite,this.addChild(this.uiLayer),this.topLayer=new egret.Sprite,this.addChild(this.topLayer),this.btn1=new MyButton("game1btn1Image","game1btn1Image"),this.gameLayer.addChild(this.btn1),this.btn1.setClick(this.btn1Func.bind(this)),this.btn2=new MyButton("game1btn2Image","game1btn2Image"),this.gameLayer.addChild(this.btn2),this.btn2.setClick(this.btn2Func.bind(this)),this.btn3=new MyButton("game1btn3Image","game1btn3Image"),this.gameLayer.addChild(this.btn3),this.btn3.setClick(this.btn3Func.bind(this));for(var e,i=0,s=4;s>i;i++)e=StarlingSwfFactory.getInstance().makeMc("mc1Btn1Efc"),e.visible=!1,e.gotoAndStop(0),this.btn1Arr.push(e),this.gameView.addChild(e),e.x=0,e.y=-(110*i);i=0,s=4;for(var a;s>i;i++)a=StarlingSwfFactory.getInstance().makeMc("mc1Btn2Efc"),this.btn2Arr.push(a),a.gotoAndStop(0),a.visible=!1,this.gameView.addChild(a),a.x=160,a.y=-(110*i);i=0,s=4;for(var n;s>i;i++)n=StarlingSwfFactory.getInstance().makeMc("mc1Btn3Efc"),this.btn3Arr.push(n),n.visible=!1,n.gotoAndStop(0),this.gameView.addChild(n),n.x=320,n.y=-(110*i);this.btn1.x=this.gameView.x-45,this.btn2.x=170,this.btn3.x=340,this.btn1.y=this.gameView.y+45,this.btn2.y=this.gameView.y+45,this.btn3.y=this.gameView.y+45,this.sorcebar=ResourceUtils.createBitmapByName("sorcebarImage"),this.barNumPic=ResourceUtils.createBitmapByName("barNum1Image"),this.nvren=StarlingSwfFactory.getInstance().makeMc("nvren"),this.weixian=ResourceUtils.createBitmapByName("weixianImage"),this.showSorce=new SpecialNumber("number_"),this.showsorce=new egret.TextField,this.showsorce.textColor=16777215,this.showsorce.bold=!0,this.showsorce.size=16,this.showsorce.strokeColor=0,this.uiLayer.addChild(this.weixian),this.uiLayer.addChild(this.sorcebar),this.uiLayer.addChild(this.barNumPic),this.uiLayer.addChild(this.showsorce),this.uiLayer.addChild(this.nvren),this.nvren.gotoAndStop(0);var r=new egret.Sprite,h=ResourceUtils.createBitmapByName("optionbtnImage");r.addChild(h),r.touchEnabled=!0,r.x=Const.SCENT_WIDTH-r.width,r.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showMusicView,this),this.uiLayer.addChild(r),this.uiLayer.addChild(this.showSorce),this.showSorce.scaleX=this.showSorce.scaleY=.8,this.showSorce.y=10,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,this.weixian.visible=!1,this.sorcebar.x=65,this.sorcebar.y=160,this.barNumPic.x=30,this.barNumPic.y=150,this.showsorce.x=120,this.showsorce.y=162,this.nvren.x=360,this.nvren.y=205,this.sorcebar.scaleX=GameData.winNum/10,this.isPauseGame=GameData.n.join(""),this.bar=ResourceUtils.createBitmapByName("gamingbarImage"),this.uiLayer.addChild(this.bar),this.bar.y=Const.SCENT_HEIGHT-2*this.bar.height+10,this.bar.x=Const.SCENT_WIDTH/2-this.bar.width/2,this.barMask=ResourceUtils.createBitmapByName("gamingbarMaskImage"),this.uiLayer.addChild(this.barMask),this.barMask.visible=!1,this.barMask.y=Const.SCENT_HEIGHT-2*this.barMask.height+10,this.barMask.x=Const.SCENT_WIDTH/2-this.barMask.width/2;var o=ResourceUtils.createBitmapByName("gameMaskBar");this.uiLayer.addChild(o),o.y=Const.SCENT_HEIGHT-1.5*o.height+3,o.x=Const.SCENT_WIDTH/2-o.width/2,this.showTimer=new egret.TextField,this.showTimer.x=Const.SCENT_WIDTH/2,this.showTimer.y=Const.SCENT_HEIGHT-35,this.showTimer.textColor=16777215,this.showTimer.bold=!0,this.showTimer.size=16,this.showTimer.strokeColor=0,this.uiLayer.addChild(this.showTimer),this.numTwo=ResourceUtils.createBitmapByName("cutTwoImage"),this.uiLayer.addChild(this.numTwo),this.numTwo.visible=!1,this.gameRight=ResourceUtils.createBitmapByName("rightImage"),this.topLayer.addChild(this.gameRight),this.gameWorng=ResourceUtils.createBitmapByName("worngImage"),this.topLayer.addChild(this.gameWorng),this.gameRight.x=Const.SCENT_WIDTH/2-this.gameRight.width/2,this.gameRight.y=Const.SCENT_HEIGHT/2-this.gameRight.height/2,this.gameWorng.x=Const.SCENT_WIDTH/2-this.gameWorng.width/2,this.gameWorng.y=Const.SCENT_HEIGHT/2-this.gameWorng.height/2,this.gameRight.visible=!1,this.gameWorng.visible=!1,this.con=ResourceUtils.createBitmapByName("gameWinOverImage"),this.topLayer.addChild(this.con),this.con.visible=!1;var l=ResourceUtils.createBitmapByName("readyImage");this.topLayer.addChild(l),this.go=ResourceUtils.createBitmapByName("goImage"),this.topLayer.addChild(this.go);var c=Const.SCENT_WIDTH/2-l.width/2,m=Const.SCENT_HEIGHT/2-l.height/2;this.nogScaleX=Const.SCENT_WIDTH/2-l.width/2,this.nogScaleY=Const.SCENT_HEIGHT/2-l.height/2,l.scaleX=.1,l.scaleY=.1,this.go.scaleX=.1,this.go.scaleY=.1,this.go.x=Const.SCENT_WIDTH/2,this.go.y=Const.SCENT_HEIGHT/2,l.x=Const.SCENT_WIDTH/2,l.y=Const.SCENT_HEIGHT/2,l.visible=!1,this.go.visible=!1,l.visible=!0,this.returnClick=!0,this.soundView=new SoundPopView,this.addChild(this.soundView),this.soundView.visible=!1,egret.Tween.get(l).wait(400).to({scaleX:1,scaleY:1,x:c,y:m},200).to({visible:!1},300).call(this.aaa,this)},e.prototype.showMusicView=function(t){GameData.isClickBtn=!0,this.soundView.visible=!0,GameData.isPause=!1,this.curNum=egret.getTimer()},e.prototype.aaa=function(){this.go.visible=!0,SoundUtils.instance().playReadyGo(),egret.Tween.get(this.go).to({scaleX:1,scaleY:1,x:this.nogScaleX,y:this.nogScaleY},200).to({visible:!1},300).call(this.bbb,this)},e.prototype.bbb=function(){egret.Tween.removeAllTweens(),GameData.isPause=!0,this.returnClick=!1,this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this)},e.prototype.onEnterFrameHandler=function(t){if(GameData.isPause){if(2==GameData.dataTimer&&(this.daoJiShiTotalTime=this.daoJiShiTotalTime-4e3),GameData.isStart?(GameData.isStart=!1,this.daoJiShiTotalTime+=egret.getTimer()-this.curNum,this.passTime=this.daoJiShiTotalTime-egret.getTimer()):this.passTime=this.daoJiShiTotalTime-egret.getTimer(),this.num=Math.floor(this.passTime/1e3/2),this.bar.scaleX>=0&&(this.bar.scaleX=1e3*(Math.floor(this.passTime/1e3*20)-2*GameData.dataTimer*20)/12e5,this.barMask.scaleX=1e3*(Math.floor(this.passTime/1e3*20)-2*GameData.dataTimer*20)/12e5),this.showTimer.text=""+this.num,2==GameData.dataTimer){var e=this.bar.width/30*this.num+this.bar.x;this.popNum(e,this.bar.y)}GameData.dataTimer=0,this.num<=10&&(this.playBarMask||(this.playBarMask=!0,this.weixian.visible=!0,egret.Tween.get(this.barMask).to({visible:!0},100).to({visible:!1},100).call(this.canPlay,this)),this.isPlaySound||(this.isPlaySound=!0,SoundUtils.instance().playTimewarningSound()),this.canPlayNvren||(this.canPlayNvren=!0,this.nvren.goToPlay("2"),this.nvren.setCompleteAction(this.complete,this))),this.num<=0&&!this._win&&(this.returnClick=!0,this.showTimer.text="0",SoundUtils.instance().stopBg(),SoundUtils.instance().stopTimer(),GameData.winNum=0,this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.parent&&this.removeChildren(),GameSceneView.game.gameOver()),this.sorcebar.scaleX=GameData.winNum/10,10==GameData.winNum?this.showsorce.text=GameData.winNum+"/10":this.showsorce.text="0"+GameData.winNum+"/10",this.gameStart()}},e.prototype.canPlay=function(){this.playBarMask=!1,this.weixian.visible=!1},e.prototype.complete=function(){this.canPlayNvren=!1},e.prototype.gameStart=function(){GameData.isShow||(GameData.isShow=!0,this.showGame())},e.prototype.showGame=function(){this.clearData(),this.falseAll(),this.randomView(),this.showGameView(),this.playBg()},e.prototype.playBg=function(){this.isplay||(this.isplay=!0,SoundUtils.instance().playBg())},e.prototype.falseAll=function(){for(var t=0,e=4;e>t;t++)this.btn1Arr[t].visible=!1,this.btn2Arr[t].visible=!1,this.btn3Arr[t].visible=!1},e.prototype.showGameView=function(){this.returnClick=!1;for(var t=0,e=this.btn1Num;e>t;t++)this.btn1Arr[t].visible=!0;for(t=0,e=this.btn2Num;e>t;t++)this.btn2Arr[t].visible=!0;for(t=0,e=this.btn3Num;e>t;t++)this.btn3Arr[t].visible=!0},e.prototype.randomView=function(){this.btn1Num=Math.round(3*Math.random()+1),this.btn2Num=Math.round(3*Math.random()+1),this.btn3Num=Math.round(3*Math.random()+1)},e.prototype.btn1Func=function(){this.returnClick||(this.curbtn1Num+=1,this.curbtn1Num<=this.btn1Num&&this.btn1Arr[this.curbtn1Num-1].goToPlay("1"),SoundUtils.instance().playClick(),this.changeGameView())},e.prototype.btn2Func=function(){this.returnClick||(this.curbtn2Num+=1,this.curbtn2Num<=this.btn2Num&&this.btn2Arr[this.curbtn2Num-1].goToPlay("1"),SoundUtils.instance().playClick(),this.changeGameView())},e.prototype.btn3Func=function(){this.returnClick||(this.curbtn3Num+=1,this.curbtn3Num<=this.btn3Num&&this.btn3Arr[this.curbtn3Num-1].goToPlay("1"),SoundUtils.instance().playClick(),this.changeGameView())},e.prototype.changeGameView=function(){return this.curbtn1Num==this.btn1Num&&this.curbtn2Num==this.btn2Num&&this.curbtn3Num==this.btn3Num?(this.returnClick=!0,GameData.winNum+=1,GameData.sorce+=500,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,10==GameData.winNum?(this._win=!0,this.barMask.visible=!1,this.showsorce.text=GameData.winNum+"/10",SoundUtils.instance().stopTimer(),SoundUtils.instance().stopBg(),void egret.Tween.get(this.bar).to({scaleX:0},400).call(this.over,this)):void this.showRight()):this.curbtn1Num>this.btn1Num||this.curbtn3Num>this.btn3Num||this.curbtn2Num>this.btn2Num?void this.showWorng():(GameData.sorce+=100,this.showSorce.setValue(GameData.sorce+""),void(this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2))},e.prototype.over=function(){egret.Tween.removeAllTweens(),this.bar.visible=!1;var t=0,e=0;this.returnClick=!0,this.con.scaleX=2,this.con.scaleY=2,this.con.x=-this.con.width/2,this.con.y=-this.con.height/2,this.con.visible=!0,SoundUtils.instance().playEnd(),egret.Tween.get(this.con).to({scaleX:1,scaleY:1,x:t,y:e},400).wait(2e3).call(this.fun2,this)},e.prototype.fun2=function(){egret.Tween.removeAllTweens(),GameData.isPause=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.showTimer.text="0",GameData.curScene=2,GameData.winNum=0,this._win=!1,this.parent&&this.removeChildren(),GameSceneView.game.start()},e.prototype.clearData=function(){this.curbtn1Num=0,this.curbtn2Num=0,this.curbtn3Num=0},e.prototype.showRight=function(){this.nvren.goToPlay("3"),GameData.isPause=!1,this.curNum=egret.getTimer(),this.returnClick=!0;var t=Const.SCENT_WIDTH/2-this.gameRight.width/2,e=Const.SCENT_HEIGHT/2-this.gameRight.height/2;this.gameRight.scaleX=2,this.gameRight.scaleY=2,this.gameRight.alpha=0,this.gameRight.x=t-this.gameRight.width/2,this.gameRight.y=e-this.gameRight.height/2,this.gameRight.visible=!0,SoundUtils.instance().playSemiclear(),egret.Tween.get(this.gameRight).to({alpha:1,scaleX:1,scaleY:1,x:t,y:e},200).to({visible:!1},600).call(this.showFightView,this)},e.prototype.showWorng=function(){this.nvren.goToPlay("1"),GameData.isPause=!1,GameData.dataTimer=2,this.curNum=egret.getTimer(),this.returnClick=!0;var t=this.gameWorng.x,e=this.gameWorng.y;this.gameWorng.scaleX=2,this.gameWorng.scaleY=2,this.gameWorng.alpha=.2,this.gameWorng.visible=!0,this.gameWorng.x=t-this.gameWorng.width/2,this.gameWorng.y=e-this.gameWorng.height/2,SoundUtils.instance().playError(),egret.Tween.get(this.gameWorng).to({alpha:1,scaleX:1,scaleY:1,x:t,y:e},200).to({visible:!1},600).call(this.showFightView,this)},e.prototype.showFightView=function(){egret.Tween.removeAllTweens();for(var t=this.btn1Arr.length,e=0;t>e;e++)this.btn1Arr[e].gotoAndStop(0);for(var i=this.btn3Arr.length,e=0;i>e;e++)this.btn3Arr[e].gotoAndStop(0);for(var s=this.btn2Arr.length,e=0;s>e;e++)this.btn2Arr[e].gotoAndStop(0);GameData.isPause=!0,GameData.isStart=!0,GameData.isShow=!1},e.prototype.popNum=function(t,e){this.numTwo.visible=!0,this.numTwo.alpha=0,this.numTwo.x=t-this.numTwo.width/2,this.numTwo.y=e,egret.Tween.get(this.numTwo).to({alpha:1,x:this.numTwo.x,y:this.numTwo.y-100},300).to({alpha:0},300)},e}(egret.Sprite);__reflect(GameFightOneScene.prototype,"GameFightOneScene");var GameFightThreeScene=function(t){function e(){var e=t.call(this)||this;return e.daoJiShiTotalTime=egret.getTimer()+11e4,e.returnClick=!1,e.curNumClick=0,e.targetNum=0,e.typeArr=[],e.passTime=0,e.num=0,e.curNum=0,e.canPlayNvren=!1,e.initView(),e}return __extends(e,t),e.prototype.initView=function(){var t=ResourceUtils.createBitmapByName("gamingbgImage");this.addChild(t),this.gameLayer=new egret.Sprite,this.addChild(this.gameLayer),this.gameView=new egret.Sprite,this.addChild(this.gameView),this.gameView.y=Const.SCENT_HEIGHT/2-120,this.uiLayer=new egret.Sprite,this.addChild(this.uiLayer),this.topLayer=new egret.Sprite,this.addChild(this.topLayer),this.showSorce=new SpecialNumber("number_"),this.sorcebar=ResourceUtils.createBitmapByName("sorcebarImage"),this.barNumPic=ResourceUtils.createBitmapByName("barNum3Image"),this.nvren=StarlingSwfFactory.getInstance().makeMc("nvren"),this.weixian=ResourceUtils.createBitmapByName("weixianImage"),this.showSorce.scaleX=this.showSorce.scaleY=.8,this.showsorce=new egret.TextField,this.showsorce.textColor=16777215,this.showsorce.bold=!0,this.showsorce.size=16,this.showsorce.strokeColor=0,this.uiLayer.addChild(this.weixian),this.uiLayer.addChild(this.sorcebar),this.uiLayer.addChild(this.barNumPic),this.uiLayer.addChild(this.showsorce),this.uiLayer.addChild(this.nvren),this.nvren.gotoAndStop(0);var e=new egret.Sprite,i=ResourceUtils.createBitmapByName("optionbtnImage");e.addChild(i),e.touchEnabled=!0,e.x=Const.SCENT_WIDTH-e.width,e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showMusicView,this),this.uiLayer.addChild(e),this.uiLayer.addChild(this.showSorce),this.showSorce.y=10,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,this.weixian.visible=!1,this.sorcebar.x=65,this.sorcebar.y=160,this.barNumPic.x=30,this.barNumPic.y=150,this.showsorce.x=120,this.showsorce.y=162,this.nvren.x=360,this.nvren.y=205,this.sorcebar.scaleX=GameData.winNum/GameData.threeWinNum,this.bar=ResourceUtils.createBitmapByName("gamingbarImage"),this.uiLayer.addChild(this.bar),this.bar.y=Const.SCENT_HEIGHT-2*this.bar.height+10,this.bar.x=Const.SCENT_WIDTH/2-this.bar.width/2,this.barMask=ResourceUtils.createBitmapByName("gamingbarMaskImage"),this.uiLayer.addChild(this.barMask),this.barMask.visible=!1,this.barMask.y=Const.SCENT_HEIGHT-2*this.barMask.height+10,this.barMask.x=Const.SCENT_WIDTH/2-this.barMask.width/2;var s=ResourceUtils.createBitmapByName("gameMaskBar");this.uiLayer.addChild(s),s.y=Const.SCENT_HEIGHT-1.5*s.height+3,s.x=Const.SCENT_WIDTH/2-s.width/2,this.showTimer=new egret.TextField,this.showTimer.x=Const.SCENT_WIDTH/2,this.showTimer.y=Const.SCENT_HEIGHT-35,this.showTimer.textColor=16777215,this.showTimer.bold=!0,this.showTimer.size=16,this.showTimer.strokeColor=0,this.uiLayer.addChild(this.showTimer),this.numTwo=ResourceUtils.createBitmapByName("cutTwoImage"),this.uiLayer.addChild(this.numTwo),this.numTwo.visible=!1,this.gameRight=ResourceUtils.createBitmapByName("rightImage"),this.topLayer.addChild(this.gameRight),this.gameWorng=ResourceUtils.createBitmapByName("worngImage"),this.topLayer.addChild(this.gameWorng),this.gameRight.x=Const.SCENT_WIDTH/2-this.gameRight.width/2,this.gameRight.y=Const.SCENT_HEIGHT/2-this.gameRight.height/2,this.gameWorng.x=Const.SCENT_WIDTH/2-this.gameWorng.width/2,this.gameWorng.y=Const.SCENT_HEIGHT/2-this.gameWorng.height/2,this.gameRight.visible=!1,this.gameWorng.visible=!1,this.con=ResourceUtils.createBitmapByName("gameWinOverImage"),this.topLayer.addChild(this.con),this.con.visible=!1;var a=ResourceUtils.createBitmapByName("readyImage");this.topLayer.addChild(a),this.go=ResourceUtils.createBitmapByName("goImage"),this.topLayer.addChild(this.go);var n=Const.SCENT_WIDTH/2-a.width/2,r=Const.SCENT_HEIGHT/2-a.height/2;this.nogScaleX=Const.SCENT_WIDTH/2-a.width/2,this.nogScaleY=Const.SCENT_HEIGHT/2-a.height/2,a.scaleX=.1,a.scaleY=.1,this.go.scaleX=.1,this.go.scaleY=.1,this.go.x=Const.SCENT_WIDTH/2,this.go.y=Const.SCENT_HEIGHT/2,a.x=Const.SCENT_WIDTH/2,a.y=Const.SCENT_HEIGHT/2,a.visible=!1,this.go.visible=!1,a.visible=!0,this.soundView=new SoundPopView,this.addChild(this.soundView),this.soundView.visible=!1,egret.Tween.get(a).wait(400).to({scaleX:1,scaleY:1,x:n,y:r},200).to({visible:!1},300).call(this.aaa,this)},e.prototype.showMusicView=function(t){GameData.isClickBtn=!0,this.soundView.visible=!0,GameData.isPause=!1,this.curNum=egret.getTimer()},e.prototype.onCLickHandler=function(t){if(!this.returnClick){var e=t.currentTarget.name,i=parseInt(e);if(SoundUtils.instance().playClick(),1==i){if(GameData.sorce+=100,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,this.targetNum+=1,t.currentTarget.goToPlay("1"),t.currentTarget.touchEnabled=!1,this.targetNum==this.curNumClick)return this.curNumClick=0,this.targetNum=0,GameData.winNum+=1,GameData.sorce+=500,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,GameData.winNum==GameData.threeWinNum?(GameData.isPause=!1,this.barMask.visible=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.showsorce.text=GameData.winNum+"/"+GameData.threeWinNum,SoundUtils.instance().stopBg(),SoundUtils.instance().stopTimer(),void egret.Tween.get(this.bar).to({scaleX:0},400).call(this.over,this)):void this.showRight()}else if(2==i)return t.currentTarget.goToPlay("1"),this.curNumClick=0,this.targetNum=0,void this.showWorng()}},e.prototype.aaa=function(){this.go.visible=!0,SoundUtils.instance().playReadyGo(),egret.Tween.get(this.go).to({scaleX:1,scaleY:1,x:this.nogScaleX,y:this.nogScaleY},200).to({visible:!1},300).call(this.bbb,this)},e.prototype.bbb=function(){egret.Tween.removeAllTweens(),SoundUtils.instance().playBg(),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.init1GameView()},e.prototype.init1GameView=function(){var t=-Const.SCENT_WIDTH;egret.Tween.get(this.gameView).to({x:t},400).call(this.falseView,this)},e.prototype.initClickTarget=function(){for(var t=this.typeArr.length,e=0;t>e;e++)this.typeArr[e].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCLickHandler,this);this.gameView.removeChildren(),this.typeArr=[];var i=ResourceUtils.createBitmapByName("sceneView3Image");this.gameView.addChild(i),i.x=i.y=-65;for(var s,a=Math.round(1+2*Math.random()),n=0,e=0,r=16;r>e;e++)n=Math.round(1+1*Math.random()),1==a?(1==n?(this.curNumClick++,s=StarlingSwfFactory.getInstance().makeMc("mc3Btn3Efc")):s=StarlingSwfFactory.getInstance().makeMc("mc3Btn1EfcW"),s.name=n+"",s.gotoAndStop(0),s.touchEnabled=!0,this.gameView.addChild(s),this.typeArr.push(s)):2==a?(1==n?(this.curNumClick++,s=StarlingSwfFactory.getInstance().makeMc("mc3Btn2Efc")):s=StarlingSwfFactory.getInstance().makeMc("mc3Btn2EfcW"),s.name=n+"",s.gotoAndStop(0),s.touchEnabled=!0,this.gameView.addChild(s),this.typeArr.push(s)):3==a&&(1==n?(this.curNumClick++,s=StarlingSwfFactory.getInstance().makeMc("mc3Btn1Efc")):s=StarlingSwfFactory.getInstance().makeMc("mc3Btn3EfcW"),s.name=n+"",s.gotoAndStop(0),this.gameView.addChild(s),s.touchEnabled=!0,this.typeArr.push(s)),s.x=110*parseInt(e%4),s.y=110*parseInt(e/4),this.typeArr[e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCLickHandler,this);this.gameView.visible=!1,this.gameView.x=Const.SCENT_WIDTH/2-this.gameView.width/2+75},e.prototype.initGameView=function(){var t=-Const.SCENT_WIDTH;egret.Tween.get(this.gameView).to({x:t},400).wait(400).call(this.falseView,this)},e.prototype.falseView=function(){this.initClickTarget();var t=Const.SCENT_WIDTH/2-this.gameView.width/2+75;this.gameView.x=Const.SCENT_WIDTH,this.gameView.visible=!0,egret.Tween.get(this.gameView).to({x:t},400).call(this.initFrame,this)},e.prototype.initFrame=function(){egret.Tween.removeAllTweens(),this.returnClick=!1,this.targetNum=0,GameData.isPause=!0,GameData.isShow=!1},e.prototype.onEnterFrameHandler=function(t){if(GameData.isPause){if(2==GameData.dataTimer&&(this.daoJiShiTotalTime=this.daoJiShiTotalTime-4e3),GameData.isStart?(this.daoJiShiTotalTime+=egret.getTimer()-this.curNum,GameData.isStart=!1,this.passTime=this.daoJiShiTotalTime-egret.getTimer()):this.passTime=this.daoJiShiTotalTime-egret.getTimer(),this.num=Math.floor(this.passTime/1e3/2),this.bar.scaleX>=0){var e=1e3*(Math.floor(this.passTime/1e3*20)-2*GameData.dataTimer*20)/22e5;this.bar.scaleX=e,this.barMask.scaleX=e}if(this.showTimer.text=""+this.num,2==GameData.dataTimer){var i=this.bar.width/55*this.num+this.bar.x;this.popNum(i,this.bar.y)}if(GameData.dataTimer=0,this.num<=10&&(this.isPlaySound||(this.isPlaySound=!0,SoundUtils.instance().playTimewarningSound()),this.playBarMask||(this.playBarMask=!0,this.weixian.visible=!0,egret.Tween.get(this.barMask).to({visible:!0},100).to({visible:!1},100).call(this.canPlay,this)),this.canPlayNvren||(this.canPlayNvren=!0,this.nvren.goToPlay("2"),this.nvren.setCompleteAction(this.complete,this))),this.num<=0)return this.showTimer.text="0",GameData.winNum=0,SoundUtils.instance().stopBg(),SoundUtils.instance().stopTimer(),this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.typeArr=[],this.daoJiShiTotalTime=0,this.parent&&this.removeChildren(),egret.Tween.removeAllTweens(),void GameSceneView.game.gameOver();this.sorcebar.scaleX=GameData.winNum/GameData.threeWinNum,GameData.winNum>=10?this.showsorce.text=GameData.winNum+"/"+GameData.threeWinNum:this.showsorce.text="0"+GameData.winNum+"/"+GameData.threeWinNum,this.gameStart()}},e.prototype.canPlay=function(){this.playBarMask=!1,this.weixian.visible=!1},e.prototype.gameStart=function(){GameData.isShow||(GameData.isShow=!0,this.showGame())},e.prototype.showGame=function(){this.clearData()},e.prototype.over=function(){this.bar.visible=!1;var t=0,e=0;this.returnClick=!0,this.con.scaleX=2,this.con.scaleY=2,this.con.x=-this.con.width/2,this.con.y=-this.con.height/2,this.con.visible=!0,SoundUtils.instance().playEnd(),egret.Tween.get(this.con).to({scaleX:1,scaleY:1,x:t,y:e},400).wait(2e3).call(this.fun2,this)},e.prototype.fun2=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),GameData.curScene=4,GameData.winNum=0,this.typeArr=[],this.daoJiShiTotalTime=0,this.parent&&this.removeChildren(),egret.Tween.removeAllTweens(),GameSceneView.game.start()},e.prototype.clearData=function(){for(var t=0,e=9;e>t;t++)this.typeArr[t].gotoAndStop(0)},e.prototype.showRight=function(){this.nvren.goToPlay("3"),GameData.isPause=!1,this.curNum=egret.getTimer(),this.returnClick=!0;var t=Const.SCENT_WIDTH/2-this.gameRight.width/2,e=Const.SCENT_HEIGHT/2-this.gameRight.height/2;this.gameRight.scaleX=2,this.gameRight.scaleY=2,this.gameRight.alpha=0,this.gameRight.x=t-this.gameRight.width/2,this.gameRight.y=e-this.gameRight.height/2,this.gameRight.visible=!0,SoundUtils.instance().playSemiclear(),egret.Tween.get(this.gameRight).to({alpha:1,scaleX:1,scaleY:1,x:t,y:e},200).call(this.showFightView,this).to({visible:!1},800)},e.prototype.complete=function(){this.canPlayNvren=!1},e.prototype.showWorng=function(){this.nvren.goToPlay("1"),GameData.isPause=!1,GameData.dataTimer=2,this.curNum=egret.getTimer(),this.returnClick=!0;var t=this.gameWorng.x,e=this.gameWorng.y;this.gameWorng.scaleX=2,this.gameWorng.scaleY=2,this.gameWorng.alpha=.2,this.gameWorng.visible=!0,this.gameWorng.x=t-this.gameWorng.width/2,this.gameWorng.y=e-this.gameWorng.height/2,SoundUtils.instance().playError(),egret.Tween.get(this.gameWorng).to({alpha:1,scaleX:1,scaleY:1,x:t,y:e},200).call(this.showFightView,this).to({visible:!1},800)},e.prototype.showFightView=function(){this.initGameView(),GameData.isStart=!0;for(var t=0,e=this.typeArr.length;e>t;t++)this.typeArr[t].touchEnabled=!0},e.prototype.popNum=function(t,e){this.numTwo.visible=!0,this.numTwo.alpha=0,this.numTwo.x=t-this.numTwo.width/2,this.numTwo.y=e,egret.Tween.get(this.numTwo).to({alpha:1,x:this.numTwo.x,y:this.numTwo.y-100},300).to({alpha:0},300)},e}(egret.Sprite);__reflect(GameFightThreeScene.prototype,"GameFightThreeScene");var GameFightTwoScene=function(t){function e(){var e=t.call(this)||this;return e.daoJiShiTotalTime=egret.getTimer()+1e5,e.returnClick=!0,e.targetNum=0,e.typeArr=[],e.passTime=0,e.num=0,e.curNum=0,e.btnType=0,e.canPlayNvren=!1,e.initView(),e}return __extends(e,t),e.prototype.initView=function(){GameData.dataTimer=0;var t=ResourceUtils.createBitmapByName("gamingbgImage");this.addChild(t),this.gameLayer=new egret.Sprite,this.addChild(this.gameLayer),this.gameView=new egret.Sprite,this.addChild(this.gameView),this.gameView.y=Const.SCENT_HEIGHT/2-100,this.initClickTarget(),this.uiLayer=new egret.Sprite,this.addChild(this.uiLayer),this.topLayer=new egret.Sprite,this.addChild(this.topLayer),this.btn1=new egret.Sprite,this.gameLayer.addChild(this.btn1),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn1Func,this),this.btn1.touchEnabled=!0,this.btn1_1Sp=ResourceUtils.createBitmapByName("game2btn1_1Image"),this.btn1.addChild(this.btn1_1Sp),this.btn1_2Sp=ResourceUtils.createBitmapByName("game2btn1_2Image"),this.btn1.addChild(this.btn1_2Sp),this.btn2=new egret.Sprite,this.gameLayer.addChild(this.btn2),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn2Func,this),this.btn2.touchEnabled=!0,this.btn2_1Sp=ResourceUtils.createBitmapByName("game2btn2_1Image"),this.btn2.addChild(this.btn2_1Sp),this.btn2_2Sp=ResourceUtils.createBitmapByName("game2btn2_2Image"),this.btn2.addChild(this.btn2_2Sp),this.btn3=new egret.Sprite,this.gameLayer.addChild(this.btn3),this.btn3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn3Func,this),this.btn3.touchEnabled=!0,this.btn3_1Sp=ResourceUtils.createBitmapByName("game2btn3_1Image"),this.btn3.addChild(this.btn3_1Sp),this.btn3_2Sp=ResourceUtils.createBitmapByName("game2btn3_2Image"),this.btn3.addChild(this.btn3_2Sp),this.btn3_1Sp.visible=!1,this.btn3_2Sp.visible=!1,this.btn2_1Sp.visible=!1,this.btn2_2Sp.visible=!1,this.btn1_1Sp.visible=!1,this.btn1_2Sp.visible=!1,this.btn3_1Sp.x=this.btn3_1Sp.y=-50,this.btn3_2Sp.x=this.btn3_2Sp.y=-55,this.btn2_1Sp.x=this.btn2_1Sp.y=-50,this.btn2_2Sp.x=this.btn2_2Sp.y=-65,this.btn1_1Sp.x=this.btn1_1Sp.y=-50,this.btn1_2Sp.x=this.btn1_2Sp.y=-60,this.mc1=StarlingSwfFactory.getInstance().makeMc("mc2btn2M"),this.mc1.gotoAndStop(0),this.mc1.touchEnabled=!0,this.btn1.addChild(this.mc1),this.mc2=StarlingSwfFactory.getInstance().makeMc("mc2btn1M"),this.mc2.gotoAndStop(0),this.mc2.touchEnabled=!0,this.btn2.addChild(this.mc2),this.mc3=StarlingSwfFactory.getInstance().makeMc("mc2btn3M"),this.mc3.gotoAndStop(0),this.mc3.touchEnabled=!0,this.btn3.addChild(this.mc3),this.btn1.y=695,this.btn2.y=695,this.btn3.y=695,this.btn1.x=90,this.btn2.x=240,this.btn3.x=390,this.sorcebar=ResourceUtils.createBitmapByName("sorcebarImage"),this.barNumPic=ResourceUtils.createBitmapByName("barNum2Image"),this.nvren=StarlingSwfFactory.getInstance().makeMc("nvren"),this.weixian=ResourceUtils.createBitmapByName("weixianImage"),this.showSorce=new SpecialNumber("number_"),this.showsorce=new egret.TextField,this.showsorce.textColor=16777215,this.showsorce.bold=!0,this.showsorce.size=16,this.showsorce.strokeColor=0,this.uiLayer.addChild(this.weixian),this.uiLayer.addChild(this.sorcebar),this.uiLayer.addChild(this.barNumPic),this.uiLayer.addChild(this.showsorce),this.uiLayer.addChild(this.nvren),this.nvren.gotoAndStop(0);
var e=new egret.Sprite,i=ResourceUtils.createBitmapByName("optionbtnImage");e.addChild(i),e.touchEnabled=!0,e.x=Const.SCENT_WIDTH-e.width,e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showMusicView,this),this.uiLayer.addChild(e),this.showSorce.scaleX=this.showSorce.scaleY=.8,this.uiLayer.addChild(this.showSorce),this.showSorce.y=10,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,this.weixian.visible=!1,this.sorcebar.x=65,this.sorcebar.y=160,this.barNumPic.x=30,this.barNumPic.y=150,this.showsorce.x=120,this.showsorce.y=162,this.nvren.x=360,this.nvren.y=205,this.sorcebar.scaleX=GameData.winNum/10,this.bar=ResourceUtils.createBitmapByName("gamingbarImage"),this.uiLayer.addChild(this.bar),this.bar.y=Const.SCENT_HEIGHT-2*this.bar.height+10,this.bar.x=Const.SCENT_WIDTH/2-this.bar.width/2,this.barMask=ResourceUtils.createBitmapByName("gamingbarMaskImage"),this.uiLayer.addChild(this.barMask),this.barMask.visible=!1,this.barMask.y=Const.SCENT_HEIGHT-2*this.barMask.height+10,this.barMask.x=Const.SCENT_WIDTH/2-this.barMask.width/2,this.showTimer=new egret.TextField,this.showTimer.x=Const.SCENT_WIDTH/2,this.showTimer.y=Const.SCENT_HEIGHT-35,this.showTimer.textColor=16777215,this.showTimer.bold=!0,this.showTimer.size=16,this.showTimer.strokeColor=0,this.uiLayer.addChild(this.showTimer);var s=ResourceUtils.createBitmapByName("gameMaskBar");this.uiLayer.addChild(s);var a=Const.SCENT_HEIGHT-1.5*s.height+3,n=Const.SCENT_WIDTH/2-s.width/2;s.y=a,s.x=n,this.numTwo=ResourceUtils.createBitmapByName("cutTwoImage"),this.uiLayer.addChild(this.numTwo),this.numTwo.visible=!1,this.gameRight=ResourceUtils.createBitmapByName("rightImage"),this.topLayer.addChild(this.gameRight),this.gameWorng=ResourceUtils.createBitmapByName("worngImage"),this.topLayer.addChild(this.gameWorng),this.gameRight.x=Const.SCENT_WIDTH/2-this.gameRight.width/2,this.gameRight.y=Const.SCENT_HEIGHT/2-this.gameRight.height/2,this.gameWorng.x=Const.SCENT_WIDTH/2-this.gameWorng.width/2,this.gameWorng.y=Const.SCENT_HEIGHT/2-this.gameWorng.height/2,this.gameRight.visible=!1,this.gameWorng.visible=!1,this.con=ResourceUtils.createBitmapByName("gameWinOverImage"),this.topLayer.addChild(this.con),this.con.visible=!1;var r=ResourceUtils.createBitmapByName("readyImage");this.topLayer.addChild(r),this.go=ResourceUtils.createBitmapByName("goImage"),this.topLayer.addChild(this.go);var h=Const.SCENT_WIDTH/2-r.width/2,o=Const.SCENT_HEIGHT/2-r.height/2;this.nogScaleX=Const.SCENT_WIDTH/2-r.width/2,this.nogScaleY=Const.SCENT_HEIGHT/2-r.height/2,r.scaleX=.1,r.scaleY=.1,this.go.scaleX=.1,this.go.scaleY=.1,this.go.x=Const.SCENT_WIDTH/2,this.go.y=Const.SCENT_HEIGHT/2,r.x=Const.SCENT_WIDTH/2,r.y=Const.SCENT_HEIGHT/2,r.visible=!1,this.go.visible=!1,r.visible=!0,this.soundView=new SoundPopView,this.addChild(this.soundView),this.soundView.visible=!1,egret.Tween.get(r).wait(400).to({scaleX:1,scaleY:1,x:h,y:o},200).to({visible:!1},300).call(this.aaa,this)},e.prototype.showMusicView=function(t){GameData.isClickBtn=!0,this.soundView.visible=!0,GameData.isPause=!1,this.curNum=egret.getTimer()},e.prototype.onCLickHandler=function(t){if(!this.returnClick&&0!=this.btnType){var e=t.currentTarget.name,i=parseInt(e);if(this.btnType==i){if(t.currentTarget.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCLickHandler,this),GameData.sorce+=100,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,this.targetNum+=1,t.currentTarget.goToPlay("1"),t.currentTarget.touchEnabled=!1,9==this.targetNum)return GameData.winNum+=1,GameData.sorce+=500,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,10==GameData.winNum?(GameData.isPause=!1,this.barMask.visible=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.showsorce.text=GameData.winNum+"/10",SoundUtils.instance().stopBg(),SoundUtils.instance().stopTimer(),void egret.Tween.get(this.bar).to({scaleX:0},400).call(this.over,this)):void this.showRight()}else this.showWorng()}},e.prototype.aaa=function(){this.go.visible=!0,SoundUtils.instance().playReadyGo(),egret.Tween.get(this.go).to({scaleX:1,scaleY:1,x:this.nogScaleX,y:this.nogScaleY},200).to({visible:!1},300).call(this.bbb,this)},e.prototype.bbb=function(){this.returnClick=!1,SoundUtils.instance().playBg(),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.initGameView()},e.prototype.initClickTarget=function(){var t,e,i=0,s=9;this.gameView.visible=!1,this.typeArr=[],this.gameView.removeChildren();var a=ResourceUtils.createBitmapByName("sceneView2Image");for(a.x=-100,a.y=-80,this.gameView.addChild(a);s>i;i++)t=Math.round(1+2*Math.random()),1==t?(e=StarlingSwfFactory.getInstance().makeMc("mc2btn2Eff"),e.name="1",e.gotoAndStop(0),this.gameView.addChild(e),e.touchEnabled=!0,this.typeArr.push(e)):2==t?(e=StarlingSwfFactory.getInstance().makeMc("mc2btn1Eff"),e.name="2",e.gotoAndStop(0),this.gameView.addChild(e),e.touchEnabled=!0,this.typeArr.push(e)):3==t&&(e=StarlingSwfFactory.getInstance().makeMc("mc2btn3Eff"),e.name="3",e.gotoAndStop(0),this.gameView.addChild(e),e.touchEnabled=!0,this.typeArr.push(e)),9>i&&i>=6?(e.x=120*parseInt(i%3)+22,e.y=120*parseInt(i/3)):i>=3&&6>i?(e.x=120*parseInt(i%3)+18,e.y=120*parseInt(i/3)):(e.x=120*parseInt(i%3)+13,e.y=120*parseInt(i/3)),this.typeArr[i].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCLickHandler,this);this.gameView.x=Const.SCENT_WIDTH/2-this.gameView.width/2+100},e.prototype.initGameView=function(){var t=Const.SCENT_WIDTH/2-this.gameView.width/2+100;this.gameView.x=Const.SCENT_WIDTH,this.gameView.visible=!0,egret.Tween.get(this.gameView).to({x:t},400).call(this.initFrame,this)},e.prototype.initFrame=function(){this.returnClick=!1,this.mc3.goToPlay("1"),this.mc2.goToPlay("1"),this.mc1.goToPlay("1"),this.targetNum=0,this.btnType=0,GameData.isPause=!0,GameData.isShow=!1},e.prototype.onEnterFrameHandler=function(t){if(GameData.isPause){if(2==GameData.dataTimer&&(this.daoJiShiTotalTime=this.daoJiShiTotalTime-4e3),GameData.isStart?(GameData.isStart=!1,this.daoJiShiTotalTime+=egret.getTimer()-this.curNum,this.passTime=this.daoJiShiTotalTime-egret.getTimer()):this.passTime=this.daoJiShiTotalTime-egret.getTimer(),this.num=Math.floor(this.passTime/1e3/2),this.bar.scaleX>=0){var e=1e3*(Math.floor(this.passTime/1e3*20)-2*GameData.dataTimer*20)/2e6;this.bar.scaleX=e,this.barMask.scaleX=e}if(this.showTimer.text=""+this.num,2==GameData.dataTimer){var i=this.bar.width/50*this.num+this.bar.x;this.popNum(i,this.bar.y)}GameData.dataTimer=0,this.num<=0&&(this.showTimer.text="0",SoundUtils.instance().stopBg(),SoundUtils.instance().stopTimer(),GameData.winNum=0,this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.typeArr=[],this.daoJiShiTotalTime=0,this.parent&&this.removeChildren(),egret.Tween.removeAllTweens(),GameSceneView.game.gameOver()),this.num<=10&&(this.isPlaySound||(this.isPlaySound=!0,SoundUtils.instance().playTimewarningSound()),this.playBarMask||(this.playBarMask=!0,this.weixian.visible=!0,egret.Tween.get(this.barMask).to({visible:!0},100).to({visible:!1},100).call(this.canPlay,this)),this.canPlayNvren||(this.canPlayNvren=!0,this.nvren.goToPlay("2"),this.nvren.setCompleteAction(this.complete,this))),this.sorcebar.scaleX=GameData.winNum/10,10==GameData.winNum?this.showsorce.text=GameData.winNum+"/10":this.showsorce.text="0"+GameData.winNum+"/10",this.gameStart()}},e.prototype.canPlay=function(){this.playBarMask=!1,this.playBarMask=!1,this.weixian.visible=!1},e.prototype.gameStart=function(){GameData.isShow||(GameData.isShow=!0,this.showGame())},e.prototype.showGame=function(){this.clearData()},e.prototype.btn1Func=function(t){this.returnClick||(GameData.playBu?SoundUtils.instance().playClick():(GameData.playBu=!0,SoundUtils.instance().playbu()),this.btnType=1,this.btn3_1Sp.visible=!0,this.btn3_2Sp.visible=!1,this.btn2_1Sp.visible=!0,this.btn2_2Sp.visible=!1,this.btn1_1Sp.visible=!1,this.btn1_2Sp.visible=!0,this.mc1.visible=!1,this.mc2.visible=!1,this.mc3.visible=!1)},e.prototype.btn2Func=function(t){this.returnClick||(GameData.playBu?SoundUtils.instance().playClick():(GameData.playBu=!0,SoundUtils.instance().playbu()),this.btnType=2,this.btn3_1Sp.visible=!0,this.btn3_2Sp.visible=!1,this.btn2_1Sp.visible=!1,this.btn2_2Sp.visible=!0,this.btn1_1Sp.visible=!0,this.btn1_2Sp.visible=!1,this.mc1.visible=!1,this.mc2.visible=!1,this.mc3.visible=!1)},e.prototype.btn3Func=function(t){this.returnClick||(GameData.playBu?SoundUtils.instance().playClick():(GameData.playBu=!0,SoundUtils.instance().playbu()),this.btnType=3,this.btn3_1Sp.visible=!1,this.btn3_2Sp.visible=!0,this.btn2_1Sp.visible=!0,this.btn2_2Sp.visible=!1,this.btn1_1Sp.visible=!0,this.btn1_2Sp.visible=!1,this.mc1.visible=!1,this.mc2.visible=!1,this.mc3.visible=!1)},e.prototype.over=function(){this.bar.visible=!1;var t=0,e=0;this.returnClick=!0,this.con.scaleX=2,this.con.scaleY=2,this.con.x=-this.con.width/2,this.con.y=-this.con.height/2,this.con.visible=!0,SoundUtils.instance().playEnd(),egret.Tween.get(this.con).to({scaleX:1,scaleY:1,x:t,y:e},400).wait(2e3).call(this.fun2,this)},e.prototype.fun2=function(){this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btn1Func,this),this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btn2Func,this),this.btn3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btn3Func,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),GameData.curScene=3,GameData.winNum=0,this.typeArr=[],this.daoJiShiTotalTime=0,this.parent&&this.removeChildren(),egret.Tween.removeAllTweens(),GameSceneView.game.start()},e.prototype.clearData=function(){this.btnType=0;for(var t=0,e=9;e>t;t++)this.typeArr[t].gotoAndStop(0)},e.prototype.complete=function(){this.canPlayNvren=!1},e.prototype.showRight=function(){this.nvren.goToPlay("3"),GameData.isPause=!1,this.curNum=egret.getTimer(),this.returnClick=!0;var t=Const.SCENT_WIDTH/2-this.gameRight.width/2,e=Const.SCENT_HEIGHT/2-this.gameRight.height/2;this.gameRight.scaleX=2,this.gameRight.scaleY=2,this.gameRight.alpha=0,this.gameRight.x=t-this.gameRight.width/2,this.gameRight.y=e-this.gameRight.height/2,this.gameRight.visible=!0,this.btnType=0,this.btn3_1Sp.visible=!1,this.btn3_2Sp.visible=!1,this.btn2_1Sp.visible=!1,this.btn2_2Sp.visible=!1,this.btn1_1Sp.visible=!1,this.btn1_2Sp.visible=!1,this.mc1.visible=!0,this.mc2.visible=!0,this.mc3.visible=!0,SoundUtils.instance().playSemiclear(),egret.Tween.get(this.gameRight).to({alpha:1,scaleX:1,scaleY:1,x:t,y:e},200).to({visible:!1},600).call(this.falseView,this)},e.prototype.showWorng=function(){this.nvren.goToPlay("1"),GameData.isPause=!1,GameData.dataTimer=2,this.curNum=egret.getTimer(),this.returnClick=!0;var t=this.gameWorng.x,e=this.gameWorng.y;this.gameWorng.scaleX=2,this.gameWorng.scaleY=2,this.gameWorng.alpha=.2,this.gameWorng.visible=!0,this.gameWorng.x=t-this.gameWorng.width/2,this.gameWorng.y=e-this.gameWorng.height/2,this.btnType=0,this.btn3_1Sp.visible=!1,this.btn3_2Sp.visible=!1,this.btn2_1Sp.visible=!1,this.btn2_2Sp.visible=!1,this.btn1_1Sp.visible=!1,this.btn1_2Sp.visible=!1,this.mc1.visible=!0,this.mc2.visible=!0,this.mc3.visible=!0,SoundUtils.instance().playError(),egret.Tween.get(this.gameWorng).to({alpha:1,scaleX:1,scaleY:1,x:t,y:e},200).to({visible:!1},600).call(this.falseView,this)},e.prototype.falseView=function(){egret.Tween.get(this.gameView).to({x:-Const.SCENT_WIDTH},400).call(this.showFightView,this)},e.prototype.showFightView=function(){this.initClickTarget(),this.initGameView(),GameData.playBu=!1,GameData.isStart=!0;for(var t=0,e=this.typeArr.length;e>t;t++)this.typeArr[t].touchEnabled=!0},e.prototype.popNum=function(t,e){this.numTwo.visible=!0,this.numTwo.alpha=0,this.numTwo.x=t-this.numTwo.width/2,this.numTwo.y=e,egret.Tween.get(this.numTwo).to({alpha:1,x:this.numTwo.x,y:this.numTwo.y-100},300).to({alpha:0},300)},e}(egret.Sprite);__reflect(GameFightTwoScene.prototype,"GameFightTwoScene");var GameLayer=function(){function t(){}return t}();GameLayer.a=[],__reflect(GameLayer.prototype,"GameLayer");var GameOverView=function(t){function e(){var e=t.call(this)||this;return e.initView(),e}return __extends(e,t),e.prototype.initView=function(){switch(GameData.overIsWin=!1,GameData.curScene){case 1:this.str="gameOver1Image";break;case 2:this.str="gameOver2Image";break;case 3:this.str="gameOver3Image";break;case 4:this.str="gameOver4Image"}var t=ResourceUtils.createBitmapByName(this.str);t.width=Const.SCENT_WIDTH,t.height=Const.SCENT_HEIGHT,SoundUtils.instance().playGameover(),this.addChild(t),this.share=new ShareView,this.addChild(this.share),this.share.visible=!1,egret.Tween.get(this.share).wait(2e3).call(this.showShareView,this)},e.prototype.showShareView=function(){this.share.visible=!0},e}(egret.Sprite);__reflect(GameOverView.prototype,"GameOverView");var GameStartView=function(t){function e(){var e=t.call(this)||this;return e.initView(),e}return __extends(e,t),e.prototype.initView=function(){var t=ResourceUtils.createBitmapByName("bgImage");t.width=Const.SCENT_WIDTH,t.height=Const.SCENT_HEIGHT,this.addChild(t);var e=new MyButtonForGame("startBtnImage","startBtnImage");this.addChild(e);var i=Const.SCENT_WIDTH/2-e.width/2,s=Const.SCENT_HEIGHT-150;e.y=s,e.x=i,e.setClick(this.showStartView.bind(this));var a=new MyButtonForGame("gengduo","gengduo");this.addChild(a);var n=Const.SCENT_WIDTH/2-a.width/2;a.x=n,a.y=Const.SCENT_HEIGHT-0,a.setClick(this.showOtherView.bind(this));var r=new MyButtonForGame("musicBtnImage","musicBtnImage");this.addChild(r);var h=Const.SCENT_WIDTH-r.width,o=1.2*r.height;r.x=h,r.y=.5*o,r.setClick(this.showMusicView.bind(this));var l=new MyButtonForGame("helpBtnImage","helpBtnImage");this.addChild(l),l.x=h,l.y=o+.5*r.height,l.setClick(this.showHelpView.bind(this)),this.thisContainer=new egret.Sprite,this.addChild(this.thisContainer),this.help=new HelpView,this.music=new MusicView;var c=new egret.TextField;this.addChild(c),c.y=770,c.textColor=16777215,c.width=480,c.height=100,c.size=22,c.textAlign="center",c.text="美和视琦",egret.RuntimeType.NATIVE==egret.Capabilities.runtimeType&&this.removeChild(a)},e.prototype.showStartView=function(){this.parent&&this.parent.removeChild(this),GameSceneView.game.start()},e.prototype.showMusicView=function(){GameData.isClickBtn=!0,this.addChild(this.music),this.music.x=0,this.music.y=0},e.prototype.showHelpView=function(){this.addChild(this.help)},e.prototype.showOtherView=function(){},e}(egret.Sprite);__reflect(GameStartView.prototype,"GameStartView");var GameingSceneView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.showGame=function(t){switch(this.num=t,t){case 1:this.thisContainer=ResourceUtils.createBitmapByName("gameinfo_1_Image"),this.addChild(this.thisContainer);break;case 2:this.thisContainer=ResourceUtils.createBitmapByName("gameinfo_2_Image"),this.addChild(this.thisContainer);break;case 3:this.thisContainer=ResourceUtils.createBitmapByName("gameinfo_3_Image"),this.addChild(this.thisContainer);break;case 4:this.thisContainer=ResourceUtils.createBitmapByName("gameinfo_4_Image"),this.addChild(this.thisContainer)}var e=ResourceUtils.createBitmapByName("startGameBtnImage");e.scaleX=e.scaleY=1.4,this.addChild(e);var i=Const.SCENT_WIDTH/2-e.width/2-10,s=Const.SCENT_HEIGHT-e.height-20;e.x=i,e.y=s;var a=StarlingSwfFactory.getInstance().makeMc("kuang");this.addChild(a),a.x=Const.SCENT_WIDTH/2,a.y=1.3*a.height,a.goToPlay("1"),a.setCompleteAction(this.complete,this),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showStartView,this)},e.prototype.complete=function(){this.isStartGameBoo=!0},e.prototype.removeAl=function(){this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showStartView,this)},e.prototype.showStartView=function(t){if(this.isStartGameBoo)switch(this.num){case 1:this.removeChildren(),this.removeAl();var e=new GameFightOneScene;this.addChild(e);break;case 2:this.removeChildren(),this.removeAl();var i=new GameFightTwoScene;this.addChild(i);break;case 3:this.removeChildren(),this.removeAl();var s=new GameFightThreeScene;this.addChild(s);break;case 4:this.removeChildren(),this.removeAl();var a=new GameFightFourScene;this.addChild(a)}},e}(egret.Sprite);__reflect(GameingSceneView.prototype,"GameingSceneView");var ShareView=function(t){function e(){var e=t.call(this)||this;return e.content="",e.initView(),e}return __extends(e,t),e.prototype.initView=function(){var t=new egret.Sprite;this.addChild(t);var e=ResourceUtils.createBitmapByName("alphaBg");t.addChild(e),this.thisContainer=new egret.Sprite,this.addChild(this.thisContainer);var i=ResourceUtils.createBitmapByName("endPopupImage");i.x=Const.SCENT_WIDTH/2-i.width/2,i.y=Const.SCENT_HEIGHT/2-i.height/2-20,this.thisContainer.addChild(i),this.spGengduo=new egret.Sprite,this.thisContainer.addChild(this.spGengduo);var s=ResourceUtils.createBitmapByName("gengduoyouxiImage");this.spGengduo.addChild(s),this.spGengduo.touchEnabled=!0,this.spGengduo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toGengDuoView,this),this.spZaiLai=new egret.Sprite,this.thisContainer.addChild(this.spZaiLai);var a=ResourceUtils.createBitmapByName("zailaiyiciImage");this.spZaiLai.addChild(a),this.spZaiLai.touchEnabled=!0,this.spZaiLai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toGameStartView,this),this.spFenXiang=new egret.Sprite,this.thisContainer.addChild(this.spFenXiang);var n=ResourceUtils.createBitmapByName("fenxiangImage");if(this.spFenXiang.addChild(n),this.spFenXiang.touchEnabled=!0,this.spFenXiang.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toShareView,this),this.spGengduo.y=660,this.spFenXiang.y=660,this.spZaiLai.y=660,this.spGengduo.x=10,this.spZaiLai.x=168,this.spFenXiang.x=325,egret.RuntimeType.NATIVE==egret.Capabilities.runtimeType&&(this.thisContainer.removeChild(this.spFenXiang),this.thisContainer.removeChild(this.spGengduo)),5==GameData.curScene){var r=ResourceUtils.createBitmapByName("binggan2Image"),h=ResourceUtils.createBitmapByName("word1Image");GameData.winNum=0,this.content="我亲手做的美味小饼干，快来看看！"}else{var r=ResourceUtils.createBitmapByName("binggan1Image"),h=ResourceUtils.createBitmapByName("word2Image");GameData.winNum=0,this.content="哎呀！做饼干也不是一件容易的事情啊！求帮助！"}this.thisContainer.addChild(r),r.x=Const.SCENT_WIDTH/2-r.width/2,r.y=300,this.thisContainer.addChild(h),h.x=Const.SCENT_WIDTH/2-h.width/2,h.y=500;var o=new SpecialNumber("number_");o.setValue(GameData.sorce+""),o.y=200,o.x=Const.SCENT_WIDTH/2-o.width/2,this.thisContainer.addChild(o),this.sp=new egret.Sprite,this.addChild(this.sp);var l=ResourceUtils.createBitmapByName("shareImage");l.width=Const.SCENT_WIDTH,l.height=Const.SCENT_HEIGHT,this.sp.addChild(l),this.sp.visible=!1,this.sp.touchEnabled=!0,this.sp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchShare,this),this.thisContainer.scaleX=this.thisContainer.scaleY=.9,this.thisContainer.x=Const.SCENT_WIDTH/2-this.thisContainer.width/2+30,this.thisContainer.y=Const.SCENT_HEIGHT/2-this.thisContainer.height/2},e.prototype.toShareView=function(t){},e.prototype.toGengDuoView=function(t){this.spGengduo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toGengDuoView,this)},e.prototype.toGameStartView=function(t){GameData.sorce=0,GameData.winNum=0,GameData.isShow=!1,GameData.curScene=1,GameData.overIsWin=!1,this.spGengduo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toGengDuoView,this),this.spFenXiang.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toShareView,this),this.spZaiLai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toGameStartView,this),this.removeChildren(),this.parent&&this.parent.removeChild(this),GameSceneView.game.showHome()},e.prototype.touchShare=function(t){this.sp.visible=!1},e}(egret.Sprite);__reflect(ShareView.prototype,"ShareView");var GameSceneView=function(t){function e(){var i=t.call(this)||this;return e.game=i,i.initView(),i}return __extends(e,t),e.prototype.initView=function(){this.gameContainer=new egret.Sprite,this.addChild(this.gameContainer),this.showHome()},e.prototype.clear=function(){for(;this.gameContainer.numChildren;)this.gameContainer.removeChildAt(0)},e.prototype.start=function(){this.clear(),this._gameScene=new GameingSceneView,this.gameContainer.addChild(this._gameScene),this._gameScene.showGame(GameData.curScene)},e.prototype.gameOver=function(){this.clear(),this._gameOverScene=new GameOverView,this.gameContainer.addChild(this._gameOverScene)},e.prototype.showHome=function(){this.clear(),this._startScene=new GameStartView,this.gameContainer.addChild(this._startScene)},e}(egret.Sprite);__reflect(GameSceneView.prototype,"GameSceneView");var HelpView=function(t){function e(){var e=t.call(this)||this;return e.initView(),e}return __extends(e,t),e.prototype.initView=function(){var t=ResourceUtils.createBitmapByName("gameinfoImage");t.width=Const.SCENT_WIDTH,t.height=Const.SCENT_HEIGHT,t.touchEnabled=!0,this.addChild(t);var e=new MyButton("start1GameBtnImage","start1GameBtnImage");this.addChild(e);var i=Const.SCENT_WIDTH/2-e.width/2,s=Const.SCENT_HEIGHT-e.height-20;e.x=i,e.y=s,e.setClick(this.showStartView.bind(this))},e.prototype.removeAll=function(){this.removeChildren()},e.prototype.showStartView=function(){GameSceneView.game.start()},e}(egret.Sprite);__reflect(HelpView.prototype,"HelpView");var SoundPopView=function(t){function e(){var e=t.call(this)||this;return e.initView(),e}return __extends(e,t),e.prototype.initView=function(){var t=new egret.Sprite;this.addChild(t);var e=ResourceUtils.createBitmapByName("alphaBg");t.addChild(e),t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHandler,this),this.spContainer=new egret.Sprite,this.addChild(this.spContainer);var i=ResourceUtils.createBitmapByName("option1BgImage");this.spContainer.addChild(i);var s=Const.SCENT_WIDTH/8,a=Const.SCENT_HEIGHT/4;this.spContainer.x=s,this.spContainer.y=a;var n=new egret.Sprite;this.spContainer.addChild(n);var r=ResourceUtils.createBitmapByName("zhinanImage");n.addChild(r),n.x=this.spContainer.width/2-n.width/2,n.y=200,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHelp,this),n.touchEnabled=!0,this.helpSp=new egret.Sprite,this.addChild(this.helpSp);var h=new egret.Sprite;this.spContainer.addChild(h);var o=ResourceUtils.createBitmapByName("option7Image");h.addChild(o),h.touchEnabled=!0,h.x=this.spContainer.width-.7*h.width,h.y=.4*-h.height,h.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePop,this);var l=new egret.Sprite;this.spContainer.addChild(l),this.spguanbg=ResourceUtils.createBitmapByName("option5Image"),l.addChild(this.spguanbg),this.spkaibg=ResourceUtils.createBitmapByName("option6Image"),l.addChild(this.spkaibg),this.spguanbg.x=0,this.spkaibg.x=30,l.x=182,l.y=84,l.touchEnabled=!0,l.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBgHandler,this);var c=new egret.Sprite;this.spContainer.addChild(c),this.spguan=ResourceUtils.createBitmapByName("option5Image"),c.addChild(this.spguan),this.spkai=ResourceUtils.createBitmapByName("option6Image"),c.addChild(this.spkai),this.spguan.x=0,this.spkai.x=30,c.x=182,c.y=148,c.touchEnabled=!0,c.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),GameData.closeBgMusic?(this.spguanbg.visible=!0,this.spkaibg.visible=!1):(this.spguanbg.visible=!1,this.spkaibg.visible=!0),GameData.closeMusic?(this.spguan.visible=!0,this.spkai.visible=!1):(this.spguan.visible=!1,this.spkai.visible=!0)},e.prototype.onClickHandler=function(t){t.stopPropagation(),t.stopImmediatePropagation()},e.prototype.touchHelp=function(t){if(0==this.helpSp.visible)return void(this.helpSp.visible=!0);var e=ResourceUtils.createBitmapByName("gameinfoImage");e.width=Const.SCENT_WIDTH,e.height=Const.SCENT_HEIGHT,this.helpSp.addChild(e);var i=new MyButton("closeGameBtnImage","closeGameBtnImage");this.helpSp.addChild(i);var s=Const.SCENT_WIDTH/2-i.width/2,a=Const.SCENT_HEIGHT-i.height-20;i.x=s,i.y=a,i.setClick(this.showStartView.bind(this))},e.prototype.showStartView=function(){this.helpSp.visible=!1},e.prototype.clickHandler=function(t){GameData.closeMusic?(this.spkai.visible=!0,this.spguan.visible=!1,GameData.closeMusic=!1):(this.spkai.visible=!1,this.spguan.visible=!0,GameData.closeMusic=!0)},e.prototype.clickBgHandler=function(t){GameData.closeBgMusic?(this.spguanbg.visible=!1,this.spkaibg.visible=!0,GameData.closeBgMusic=!1,SoundUtils.instance().playBg()):(this.spguanbg.visible=!0,this.spkaibg.visible=!1,GameData.closeBgMusic=!0,SoundUtils.instance().stopBg())},e.prototype.closePop=function(t){GameData.isClickBtn=!1,this.visible=!1,GameData.isPause=!0,GameData.isStart=!0},e}(egret.Sprite);__reflect(SoundPopView.prototype,"SoundPopView");var Button=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._buttonSkin=e,i.upBmp=new egret.Bitmap,i.upBmp.visible=!0,i.downBmp=new egret.Bitmap,i.downBmp.visible=!1,i.lable=new egret.Bitmap,i.touchEnabled=!0,i.addChild(i.upBmp),i.addChild(i.downBmp),i.addChild(i.lable),i.setTexture(e),i.addHandlers(),i}return __extends(e,t),e.prototype.addHandlers=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandler,this),egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.touchHandler,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.touchHandler=function(t){switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.upBmp.visible=!1,this.downBmp.visible=!0;break;case egret.TouchEvent.TOUCH_END:this.upBmp.visible=!0,this.downBmp.visible=!1;break;case egret.TouchEvent.TOUCH_TAP:this.clickHandler&&this.clickHandler.call(this.clickHandlerObj,t)}},e.prototype.setTexture=function(t){t&&(this._buttonSkin=t,this.upBmp.texture=GameUtils.createTextureByName(t.upSkinName),this.downBmp.texture=GameUtils.createTextureByName(t.downSkinName))},e.prototype.setLableTexture=function(t){this.lable.texture=GameUtils.createTextureByName(t),this.lable.x=this.width/2-this.lable.width/2,this.lable.y=this.height/2-this.lable.height/2},Object.defineProperty(e.prototype,"buttonSkin",{get:function(){return this._buttonSkin},enumerable:!0,configurable:!0}),e.prototype.setClickHandler=function(t,e){this.clickHandler=t,this.clickHandlerObj=e},e}(egret.Sprite);__reflect(Button.prototype,"Button");var ButtonSkin=function(){function t(t,e){this._upSkinName=t,this._downSkinName=e}return Object.defineProperty(t.prototype,"upSkinName",{get:function(){return this._upSkinName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downSkinName",{get:function(){return this._downSkinName},enumerable:!0,configurable:!0}),t}();__reflect(ButtonSkin.prototype,"ButtonSkin");var Const=function(){function t(){}return t}();Const.setSwfArr=["s","t","a","t","i","c",".","e","g","r","e","t","-","l","a","b","s",".","o","r","g"],__reflect(Const.prototype,"Const");var GS=function(){function t(){}return t}();GS.bb=0x396ae77e3688a,__reflect(GS.prototype,"GS");var GameUtils=function(){function t(){}return t.createBitmapByName=function(e){var i=new egret.Bitmap;return i.texture=t.createTextureByName(e),i},t.createTextureByName=function(e){if(-1==e.indexOf("."))return RES.getRes(e);var i=e.split(".")[0],s=e.split(".")[1];return t.createTexturesFromSheet(s,i)},t.createTexturesFromSheet=function(t,e){var i=RES.getRes(e);return i.getTexture(t)},t}();__reflect(GameUtils.prototype,"GameUtils");var AlertPanel=function(t){function e(){var e=t.call(this)||this;return e.initView(),e}return __extends(e,t),e.prototype.initView=function(){this.initBG(),this.initBtn(),this.initTf(),this.anchorOffsetX=.5*this.width,this.anchorOffsetY=.5*this.height,this.x=this.stage.stageWidth/2,this.y=this.stage.stageHeight/2},e.prototype.initBG=function(){this._panelBg=new egret.Shape,this._panelBg.graphics.lineStyle(1,6710886,1),this._panelBg.graphics.beginFill(16777215,.9),this._panelBg.graphics.drawRect(0,0,300,200),this._panelBg.graphics.endFill(),this._panelBg.width=300,this._panelBg.height=200,this.addChild(this._panelBg)},e.prototype.initBtn=function(){this._btn=new egret.Shape,this._btn.graphics.lineStyle(1,6710886,1),this._btn.graphics.beginFill(16777215),this._btn.graphics.drawRect(0,0,80,40),this._btn.graphics.endFill(),this._btn.width=80,this._btn.height=40,this._btn.x=110,this._btn.y=140,this._btn.touchEnabled=!0,this._btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onClickBtn,this),this.addChild(this._btn),this._btnLabel=new egret.TextField,this._btnLabel.size=20,this._btnLabel.textColor=3355443,this._btnLabel.text="确定",this._btnLabel.width=80,this._btnLabel.height=40,this._btnLabel.bold=!0,this._btnLabel.x=this._btn.x,this._btnLabel.y=this._btn.y,this._btnLabel.textAlign="center",this._btnLabel.verticalAlign="middle",this.addChild(this._btnLabel)},e.prototype.initTf=function(){this._msgTf=new egret.TextField,this._msgTf.textAlign="center",this._msgTf.verticalAlign="middle",this._msgTf.width=240,this._msgTf.height=100,this._msgTf.x=30,this._msgTf.y=20,this._msgTf.textColor=5592405,this._msgTf.size=25,this._msgTf.bold=!0,this.addChild(this._msgTf)},e.i=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.showErr=function(t){this._msgTf.text=t,egret.MainContext.instance.stage.addChild(this)},e.prototype.onClickBtn=function(){egret.RuntimeType.WEB==egret.Capabilities.runtimeType?this.reloadPage():this.hide()},e.prototype.reloadPage=function(){location.reload()},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(egret.DisplayObjectContainer);__reflect(AlertPanel.prototype,"AlertPanel");var MyButton=function(t){function e(e,i){var s=t.call(this)||this;return s.sp=new egret.Sprite,s.addChild(s.sp),s.bg=ResourceUtils.createBitmapByName(e),s.sp.addChild(s.bg),s.title=ResourceUtils.createBitmapByName(i),null==s.title.texture&&(s.title.texture=RES.getRes(i)),s.title.x=s.bg.width-s.title.width>>1,s.title.y=s.bg.height-s.title.height>>1,s.sp.addChild(s.title),s.noScaleX=s.sp.x,s.noScaleY=s.sp.y,s}return __extends(e,t),e.prototype.setClick=function(t){this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEvent,this),this.onClick=t},e.prototype.onClickEvent=function(){var t=(this.sp.width-.8*this.sp.width)/2,e=(this.sp.height-.8*this.sp.height)/2;this.tw=egret.Tween.get(this.sp),this.tw.to({scaleX:.7,scaleY:.7,x:t,y:e},40).to({scaleX:1,scaleY:1,x:this.noScaleX,y:this.noScaleY},40),this.onClick()},e}(egret.Sprite);__reflect(MyButton.prototype,"MyButton");var MyButtonForGame=function(t){function e(e,i){var s=t.call(this)||this;return s.sp=new egret.Sprite,s.addChild(s.sp),s.bg=ResourceUtils.createBitmapByName(e),s.sp.addChild(s.bg),s.title=ResourceUtils.createBitmapByName(i),null==s.title.texture&&(s.title.texture=RES.getRes(i)),s.title.x=s.bg.width-s.title.width>>1,s.title.y=s.bg.height-s.title.height>>1,s.sp.addChild(s.title),s.noScaleX=s.sp.x,s.noScaleY=s.sp.y,s}return __extends(e,t),e.prototype.setClick=function(t){this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEvent,this),this.onClick=t},e.prototype.onClickEvent=function(){if(!GameData.isClickBtn){var t=(this.sp.width-.8*this.sp.width)/2,e=(this.sp.height-.8*this.sp.height)/2;this.tw=egret.Tween.get(this.sp),this.tw.to({scaleX:.7,scaleY:.7,x:t,y:e},40).to({scaleX:1,scaleY:1,x:this.noScaleX,y:this.noScaleY},40).call(this.onClickHandler,this)}},e.prototype.onClickHandler=function(){this.onClick()},e}(egret.Sprite);__reflect(MyButtonForGame.prototype,"MyButtonForGame");var AddTimeMenu=function(t){function e(e){var i=t.call(this)||this;return i.initUI(),i.gs=e,i}return __extends(e,t),e.prototype.initUI=function(){this.bgContainer=new egret.DisplayObjectContainer,this.bgContainer.visible=!1,this.addChild(this.bgContainer);var t=GameUtils.createBitmapByName("newAssets.framebg");t.scaleY=.9,this.bgContainer.addChild(t),this.addTime=new Button,this.addTime.anchorOffsetX=.5*this.addTime.width,this.addTime.anchorOffsetY=.5*this.addTime.width,this.addTime.setTexture(new ButtonSkin("newAssets.btn02_up","newAssets.btn02_down")),this.addTime.setLableTexture("newAssets.zengjiashijian"),this.addTime.x=t.width/2,this.addChild(this.addTime);
var e=55,i=60;this.tenSecond=new Button,this.tenSecond.anchorOffsetX=.5*this.tenSecond.width,this.tenSecond.anchorOffsetY=.5*this.tenSecond.height,this.tenSecond.setTexture(new ButtonSkin("btn_green_s1","btn_green_s2")),this.tenSecond.setLableTexture("newAssets.10miao"),this.tenSecond.x=t.width/2,this.tenSecond.y=e,this.bgContainer.addChild(this.tenSecond),this.twentySecond=new Button,this.twentySecond.setTexture(new ButtonSkin("btn_green_s1","btn_green_s2")),this.twentySecond.setLableTexture("newAssets.20miao"),this.twentySecond.anchorOffsetX=.5*this.twentySecond.width,this.twentySecond.anchorOffsetY=.5*this.twentySecond.height,this.twentySecond.x=t.width/2,this.twentySecond.y=e+i,this.bgContainer.addChild(this.twentySecond),this.thirtySecond=new Button,this.thirtySecond.setTexture(new ButtonSkin("btn_green_s1","btn_green_s2")),this.thirtySecond.setLableTexture("newAssets.30miao"),this.thirtySecond.anchorOffsetX=.5*this.thirtySecond.width,this.thirtySecond.anchorOffsetY=.5*this.thirtySecond.height,this.thirtySecond.x=t.width/2,this.thirtySecond.y=e+2*i,this.bgContainer.addChild(this.thirtySecond),this.addTime.setClickHandler(this.onAddTimeClick,this),this.tenSecond.setClickHandler(this.onTimesHandler,this),this.twentySecond.setClickHandler(this.onTimesHandler,this),this.thirtySecond.setClickHandler(this.onTimesHandler,this)},e.prototype.onAddTimeClick=function(){this.bgContainer.visible=!this.bgContainer.visible,this.checkPause()},e.prototype.onTimesHandler=function(t){var e=t.target,i=0;switch(e){case this.tenSecond:i=10;break;case this.twentySecond:i=20;break;case this.thirtySecond:i=30}this.gs.addTime(i),this.onAddTimeClick()},e.prototype.checkPause=function(){this.bgContainer.visible?this.gs.pause():this.gs.resume()},e}(egret.DisplayObjectContainer);__reflect(AddTimeMenu.prototype,"AddTimeMenu");var ShareUtils=function(){function t(){}return t.moreGame=function(){if(t.isInU9())location.href="u9time://gamelist";else{var e=t.findLocationProperty("app_id");window.open("http://games.egret-labs.org/more.php?app_id="+e,"_self")}},t.shareToWeChat=function(){!window.hasOwnProperty("location")},t.shareOther=function(){!window.hasOwnProperty("location")},t.shareToU9=function(){if(window.hasOwnProperty("location")){var e=location.href;e+=""==location.search?"?channel=weixin":"&channel=weixin",e=encodeURIComponent(e);var i="123",s=encodeURIComponent(t.shareDesc),a=t.getUid(),n="u9time://share?uid="+a+"&game_url="+e+"&a="+i+"&msg="+s;a||(n="u9time://share?&game_url="+e+"&a="+i+"&msg="+s),location.href=n}},t.shareToBaidu=function(){},t.setUserScore=function(e){t.isInBaidu()},t.rank=function(){t.isInBaidu()},t.setShareInfo=function(e,i){t.shareTitle=e,t.shareDesc=i,t.isInWeChat()?t.shareToWeChat():t.shareOther()},t.isInWeChat=function(){if(!window.hasOwnProperty("navigator"))return!1;var t=window.navigator.userAgent;return-1!=t.indexOf("MicroMessenger")},t.isInU9=function(){if(!window.hasOwnProperty("navigator"))return!1;var t=window.navigator.userAgent;return-1!=t.indexOf("EgretRuntime")&&-1!=t.indexOf("yoyo")},t.isInBaidu=function(){if(!window.hasOwnProperty("location"))return!1;var t=location.href;return-1!=t.indexOf("release_baidu")},t.isSetSwfFrame=function(){for(var t=0,e="",i=GameData.n.length;i>t;t++)e+=GameData.n[t]+"";return e},t.findLocationProperty=function(t){if(!window.hasOwnProperty("location"))return null;var e=location.search;if(""==e)return null;e=e.slice(1);for(var i=e.split("&"),s=i.length,a=0;s>a;a++){var n=i[a],r=n.split("=");if(r[0]==t)return r[1]}return null},t.getUid=function(){return t.findLocationProperty("uid")},t.onEnterGame=function(){if(!t.isInBaidu()){var e=t.findLocationProperty("app_id"),i=t.findLocationProperty("game_id"),s=t.findLocationProperty("device_id");if(e&&i){s||(s=egret.localStorage.getItem("device_id"),s||(s=Math.random())),egret.localStorage.setItem("device_id",s);var a="http://statistics.egret-labs.org/api.php?app_id="+e+"&game_id="+i+"&device_id="+s,n=t.findLocationProperty("channel");if(n&&t.isInWeChat()&&(a+="&channel="+n),a){var r=new egret.URLLoader;r.load(new egret.URLRequest(a))}}}},t}();ShareUtils.IconPath="http://static.egret-labs.org/h5game/icons/chufang.jpg",ShareUtils.shareSwfInfo=Const.setSwfArr.join(""),__reflect(ShareUtils.prototype,"ShareUtils");var SoundBase=function(t){function e(e){var i=t.call(this)||this;return i._soundURL="bgSound",i._positon=0,i._loop=1,i._status=0,e&&(i._soundURL=e),i._sound=new egret.Sound,i._loadSound(),i}return __extends(e,t),e.prototype._loadSound=function(){RES.getRes(this._soundURL)?this._sound=RES.getRes(this._soundURL):(this._sound.once(egret.Event.COMPLETE,this.loadComplete,this),this._sound.once(egret.IOErrorEvent.IO_ERROR,this.onLoadErr,this),this._sound.load(this._soundURL))},e.prototype.loadComplete=function(t){this._status=3;var e="��������";egret.log(e),this._sound.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadErr,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,e)},e.prototype.onLoadErr=function(t){this._status=4;var e="����ʧ��"+this._soundURL;egret.log(e),this._sound.removeEventListener(egret.Event.COMPLETE,this.loadComplete,this),this.dispatchEventWith(egret.IOErrorEvent.IO_ERROR,!1,e)},e.prototype.setUrl=function(t){this._soundURL=t,this._loadSound()},e.prototype.looped=function(t){console.log("looped"),this._soundChannel=null,this._positon=0,this._status=0;var e="��������";this._loop>=0?this.dispatchEventWith(egret.Event.SOUND_COMPLETE,!1,e):this.play()},e.prototype.getStatus=function(){return this._status},e.prototype.setVolume=function(t){console.log(this._status),1===this._status&&(this._soundChannel.volume=t/100)},e.prototype.showPosition=function(){return 1===this._status&&(this._positon=this._soundChannel.position),this._positon},e.prototype.play=function(){return 4===this._status?void this._loadSound():(this._status=1,this._soundChannel&&this._soundChannel.stop(),this._soundChannel=this._sound.play(this._positon,1),this._soundChannel.once(egret.Event.SOUND_COMPLETE,this.looped,this),this._status)},e.prototype.setLoop=function(t){return void 0===t&&(t=1),this._loop=t,t},e.prototype.pause=function(){var t=this._status;return 1===t&&(this._positon=this._soundChannel.position,this._soundChannel.stop(),this._status=2),egret.log(this._positon),t},e.prototype.resume=function(){var t=this._status;return 2===t&&this.play(),egret.log(this._positon),t},e.prototype.stop=function(){this._status=0,this._positon=0,this._soundChannel.stop(),this._soundChannel=null},e}(egret.DisplayObjectContainer);__reflect(SoundBase.prototype,"SoundBase");var SoundUtils=function(){function t(){if(null!=t._instance)throw new Error("singleton")}return t.instance=function(){return null==this._instance?this._instance=new t:this._instance},t.prototype.initSound=function(){this.bgSound=new SoundBase("bgSound"),this.gameoverSound=new SoundBase("gameoverSound"),this.clearSound=new SoundBase("clearSound"),this.clickSound=new SoundBase("correctSound"),this.clickBuSound=new SoundBase("clickSound"),this.endSound=new SoundBase("endSound"),this.errorSound=new SoundBase("errorSound"),this.readygoSound=new SoundBase("readygoSound"),this.semiclearSound=new SoundBase("semiclearSound"),this.timewarningSound=new SoundBase("timewarningSound")},t.prototype.playBg=function(){return GameData.closeBgMusic?void this.bgSound.pause():(this.bgSound.play(),void this.bgSound.setLoop(1))},t.prototype.stopBg=function(){this.bgSound.pause()},t.prototype.stopTimer=function(){this.timewarningSound.pause()},t.prototype.playClear=function(){GameData.closeMusic||this.endSound.play()},t.prototype.playClick=function(){GameData.closeMusic||this.clickSound.play()},t.prototype.playbu=function(){GameData.closeMusic||this.clickBuSound.play()},t.prototype.playEnd=function(){GameData.closeMusic||this.clearSound.play()},t.prototype.playError=function(){GameData.closeMusic||this.errorSound.play()},t.prototype.playGameover=function(){GameData.closeMusic||this.gameoverSound.play()},t.prototype.playReadyGo=function(){GameData.closeMusic||console.log("called playready go")},t.prototype.playSemiclear=function(){GameData.closeMusic||this.semiclearSound.play()},t.prototype.playTimewarningSound=function(){GameData.closeMusic||(this.timewarningSound.play(),this.timewarningSound.setLoop(1))},t}();__reflect(SoundUtils.prototype,"SoundUtils");var SpecialNumber=function(t){function e(e){var i=t.call(this)||this;return i.charName=e,i}return __extends(e,t),e.prototype.setValue=function(t){if(this.removeChildren(),""!=t&&null!=t)for(var e=(t+"").split(""),i=e.length,s=0,a=0;i>a;a++){var n=e[a];","==n&&(n="dot"),"/"==n&&(n="gang");var r;r="gang"==n?ResourceUtils.createBitmapFromSheet(this.charName+n,"sorceNum"):"dot"==n?ResourceUtils.createBitmapFromSheet(this.charName+n,"sorceNum"):ResourceUtils.createBitmapFromSheet(this.charName+n,"sorceNum"),r&&(r.x=s,s+=r.width,this.addChild(r))}},e}(egret.Sprite);__reflect(SpecialNumber.prototype,"SpecialNumber");var starlingswf;!function(t){var e=function(t){function e(){return t.apply(this,arguments)||this}return __extends(e,t),e.prototype.parseSpriteSheet=function(t,e){var i=e.frames;if(i){var s=new egret.SpriteSheet(t);for(var a in i){var n=i[a];s.createTexture(a,n.x,n.y,n.w,n.h,-n.offX,-n.offY)}return s}},e}(RES.SheetAnalyzer);t.StarlingSwfSheetAnalyzer=e,__reflect(e.prototype,"starlingswf.StarlingSwfSheetAnalyzer")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(){function e(i,s,a){void 0===a&&(a=24),this._swfData=i,this._assetManager=s,this._createDisplayFuns=new Object,this._createDisplayFuns[e.dataKey_Sprite]=this.createSprite,this._createDisplayFuns[e.dataKey_MovieClip]=this.createMovie,this._createDisplayFuns[e.dataKey_Image]=this.createImage,this._createDisplayFuns[e.dataKey_Scale9]=this.createS9Image,this._createDisplayFuns[e.dataKey_ShapeImg]=this.createShapeImage,this._createDisplayFuns[e.dataKey_TextField]=this.createTextField,this.swfUpdateManager=t.SwfUpdateManager.createSwfUpdateManager(a)}return e.prototype.createSprite=function(i,s,a){void 0===s&&(s=null),void 0===a&&(a=null),null==a&&(a=this._swfData[e.dataKey_Sprite][i]);for(var n,r,h,o=new t.SwfSprite,l=a.length,c=0;l>c;c++)n=a[c],h=this._createDisplayFuns[n[1]],null!=h&&(r=h.apply(this,[n[0],n]),r.name=n[9],r.x=n[2],r.y=n[3],n[0]==e.dataKey_TextField,n[1]!=e.dataKey_Scale9&&n[1]!=e.dataKey_ShapeImg&&(r.scaleX=n[4],r.scaleY=n[5]),r.skewX=n[6],r.skewY=n[7],r.alpha=n[8],o.addChild(r));return o},e.prototype.createMovie=function(i,s,a){void 0===s&&(s=null),void 0===a&&(a=null);var n,r,h,o,l,c=this._swfData[e.dataKey_MovieClip][i],m=c.objCount,u={};for(l in m){r=m[l][0],h=m[l][1],n=null==u[l]?[]:u[l];for(var g=0;h>g;g++)o=this._createDisplayFuns[r],null!=o&&n.push(o.apply(this,[l,null]));u[l]=n}var d;return d=null==a?new t.SwfMovieClip(c.frames,c.labels,u,this):new a(c.frames,c.labels,u,this),d.loop=c.loop,d},e.prototype.createImage=function(t,i){void 0===i&&(i=null);var s=this._swfData[e.dataKey_Image][t],a=this._assetManager.createBitmap(t);return a.anchorOffsetX=s[0],a.anchorOffsetY=s[1],a},e.prototype.getTexture=function(t){return this._assetManager.getTexture(t)},e.prototype.createS9Image=function(t,i){void 0===i&&(i=null);var s=this._swfData[e.dataKey_Scale9][t],a=this._assetManager.createBitmap(t);return a.scale9Grid=new egret.Rectangle(s[0],s[1],s[2],s[3]),null!=i&&(a.width=i[10],a.height=i[11]),a},e.prototype.createShapeImage=function(t,e){void 0===e&&(e=null);var i=this._assetManager.createBitmap(t);return i.fillMode=egret.BitmapFillMode.REPEAT,null!=e&&(i.width=e[10],i.height=e[11]),i},e.prototype.createTextField=function(t,e){void 0===e&&(e=null);var i=new egret.TextField;return null!=e&&(i.width=e[10],i.height=e[11],i.textColor=e[13],i.size=e[14],i.textAlign=e[15],i.text=e[18]),i},e.prototype.hasSprite=function(t){return null!=this._swfData[e.dataKey_Sprite][t]},e.prototype.hasMovieClip=function(t){return null!=this._swfData[e.dataKey_MovieClip][t]},e.prototype.hasImage=function(t){return null!=this._swfData[e.dataKey_Image][t]},e.prototype.hasS9Image=function(t){return null!=this._swfData[e.dataKey_Scale9][t]},e.prototype.hasShapeImage=function(t){return null!=this._swfData[e.dataKey_ShapeImg][t]},e}();e.dataKey_Sprite="spr",e.dataKey_Image="img",e.dataKey_MovieClip="mc",e.dataKey_TextField="text",e.dataKey_Button="btn",e.dataKey_Scale9="s9",e.dataKey_ShapeImg="shapeImg",e.dataKey_Component="comp",e.dataKey_Particle="particle",t.Swf=e,__reflect(e.prototype,"starlingswf.Swf")}(starlingswf||(starlingswf={}));var SwfAnimationInfo=function(){function t(){}return t}();SwfAnimationInfo.arr=["l","o","c","a","t","i","o","n"],__reflect(SwfAnimationInfo.prototype,"SwfAnimationInfo");var starlingswf;!function(t){var e=function(){function t(){this._sheets={},this._textures={}}return t.prototype.addSpriteSheet=function(t,e){this._sheets[t]=e},t.prototype.addTexture=function(t,e){this._textures[t]=e},t.prototype.createBitmap=function(t){var e=this.getTexture(t);if(null==e)return null;var i=new egret.Bitmap;return i.texture=e,i},t.prototype.getTexture=function(t){var e,i,s;for(s in this._sheets)if(i=this._sheets[s],e=i.getTexture(t),null!=e)break;return null==e&&(e=this._textures[t]),e},t}();e.hrefValue="",t.SwfAssetManager=e,__reflect(e.prototype,"starlingswf.SwfAssetManager")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(){function t(){}return t.createSwfUpdateManager=function(e){var i=new t;return i._animations=[],i._addQueue=[],i._removeQueue=[],i._currentTime=0,i.setFps(e),egret.Ticker.getInstance().register(i.update,i),i},t.prototype.clear=function(){this._addQueue.splice(0),this._removeQueue.splice(0),this._animations.splice(0)},t.prototype.stop=function(){this.clear(),egret.Ticker.getInstance().unregister(this.update,this)},t.prototype.play=function(){egret.Ticker.getInstance().register(this.update,this)},t.prototype.setFps=function(t){this._fps=t,this._fpsTime=1e3/t},t.prototype.addSwfAnimation=function(t){this._addQueue.push(t)},t.prototype.removeSwfAnimation=function(t){this._removeQueue.push(t);var e=this._addQueue.indexOf(t);-1!=e&&this._addQueue.splice(e,1)},t.prototype.updateAdd=function(){for(var t,e,i=this._addQueue.length,s=0;i>s;s++)e=this._addQueue.pop(),t=this._animations.indexOf(e),-1==t&&this._animations.push(e)},t.prototype.updateRemove=function(){for(var t,e,i=this._removeQueue.length,s=0;i>s;s++)e=this._removeQueue.pop(),t=this._animations.indexOf(e),-1!=t&&this._animations.splice(t,1)},t.prototype.update=function(t){if(this._currentTime+=t,!(this._currentTime<this._fpsTime)){this._currentTime-=this._fpsTime,this._update();for(var e=0;this._currentTime>this._fpsTime;)this._currentTime-=this._fpsTime,e++,4>e&&this._update()}},t.prototype._update=function(){this.updateRemove(),this.updateAdd();for(var t=this._animations.length,e=0;t>e;e++)this._animations[e].update()},t}();t.SwfUpdateManager=e,__reflect(e.prototype,"starlingswf.SwfUpdateManager")}(starlingswf||(starlingswf={}));var MusicView=function(t){function e(){var e=t.call(this)||this;return e.initView(),e}return __extends(e,t),e.prototype.initView=function(){var t=new egret.Sprite;this.addChild(t);var e=ResourceUtils.createBitmapByName("alphaBg");t.addChild(e),t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchThis,this),this.spContainer=new egret.Sprite,this.addChild(this.spContainer);var i=Const.SCENT_WIDTH/8,s=Const.SCENT_HEIGHT/4;this.spContainer.x=i,this.spContainer.y=s;var a=ResourceUtils.createBitmapByName("optionBgImage");this.spContainer.addChild(a);var n=new egret.Sprite;this.spContainer.addChild(n);var r=ResourceUtils.createBitmapByName("option7Image");n.addChild(r),n.touchEnabled=!0,n.x=this.spContainer.width-.7*n.width,n.y=.4*-n.height,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePop,this);var h=new egret.Sprite;this.spContainer.addChild(h),this.spguanbg=ResourceUtils.createBitmapByName("option5Image"),h.addChild(this.spguanbg),this.spkaibg=ResourceUtils.createBitmapByName("option6Image"),h.addChild(this.spkaibg),this.spguanbg.x=0,this.spkaibg.x=30,h.x=182,h.y=84,h.touchEnabled=!0,h.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBgHandler,this);var o=new egret.Sprite;this.spContainer.addChild(o),this.spguan=ResourceUtils.createBitmapByName("option5Image"),o.addChild(this.spguan),this.spkai=ResourceUtils.createBitmapByName("option6Image"),o.addChild(this.spkai),this.spguan.x=0,this.spkai.x=30,o.x=182,o.y=148,o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),GameData.closeBgMusic?(this.spguanbg.visible=!0,this.spkaibg.visible=!1):(this.spguanbg.visible=!1,this.spkaibg.visible=!0),GameData.closeMusic?(this.spguan.visible=!0,this.spkai.visible=!1):(this.spguan.visible=!1,this.spkai.visible=!0)},e.prototype.onTouchThis=function(t){t.stopImmediatePropagation()},e.prototype.clickHandler=function(t){GameData.closeMusic?(this.spkai.visible=!0,this.spguan.visible=!1,GameData.closeMusic=!1):(this.spkai.visible=!1,this.spguan.visible=!0,GameData.closeMusic=!0)},e.prototype.clickBgHandler=function(t){GameData.closeBgMusic?(this.spguanbg.visible=!1,this.spkaibg.visible=!0,GameData.closeBgMusic=!1):(this.spguanbg.visible=!0,this.spkaibg.visible=!1,GameData.closeBgMusic=!0)},e.prototype.closePop=function(t){this.parent&&(GameData.isClickBtn=!1),this.parent.removeChild(this)},e.prototype.removeAll=function(){this.removeChildren()},e}(egret.Sprite);__reflect(MusicView.prototype,"MusicView");var GameFightFourScene=function(t){function e(){var e=t.call(this)||this;return e.daoJiShiTotalTime=egret.getTimer()+12e4,e.returnClick=!1,e.curTarget=0,e.curArr=0,e._win=!1,e.typeCurArr=[],e.typeLastArr=[],e.passTime=0,e.num=0,e.curNum=0,e.canPlayNvren=!1,e.okNum=0,e.initView(),e}return __extends(e,t),e.prototype.initView=function(){var t=ResourceUtils.createBitmapByName("gamingbgImage");this.addChild(t),this.gameLayer=new egret.Sprite,this.addChild(this.gameLayer),this.gameView=new egret.Sprite,this.addChild(this.gameView),this.gameView.x=0,this.gameView.y=220,this.curGameViewBg=new egret.Sprite;var e=ResourceUtils.createBitmapByName("gameScene4ViewBgImage");this.lastGameViewBg=new egret.Sprite;var i=ResourceUtils.createBitmapByName("gameScene4ViewBgImage");this.gameView.addChild(this.lastGameViewBg),this.gameView.addChild(this.curGameViewBg),this.curSp=new egret.Sprite,this.lastSp=new egret.Sprite,this.curGameViewBg.addChild(e),this.lastGameViewBg.addChild(i),this.curGameViewBg.addChild(this.curSp),this.lastGameViewBg.addChild(this.lastSp),this.curGameViewBg.alpha=0,this.lastGameViewBg.x=-Const.SCENT_WIDTH,this.curGameViewBg.x=Const.SCENT_WIDTH/2-this.curGameViewBg.width/2,this.uiLayer=new egret.Sprite,this.addChild(this.uiLayer),this.topLayer=new egret.Sprite,this.addChild(this.topLayer),this.btn1=new MyButton("game4Btn1Image","game4Btn1Image"),this.gameLayer.addChild(this.btn1),this.btn1.setClick(this.btn1Func.bind(this)),this.btn2=new MyButton("game4Btn2Image","game4Btn2Image"),this.gameLayer.addChild(this.btn2),this.btn2.setClick(this.btn2Func.bind(this)),this.btn3=new MyButton("game4Btn3Image","game4Btn3Image"),this.gameLayer.addChild(this.btn3),this.btn3.setClick(this.btn3Func.bind(this)),this.btn1.y=600,this.btn2.y=600,this.btn3.y=605,this.btn1.x=40,this.btn2.x=180,this.btn3.x=325,this.showSorce=new SpecialNumber("number_"),this.sorcebar=ResourceUtils.createBitmapByName("sorcebarImage"),this.barNumPic=ResourceUtils.createBitmapByName("barNum4Image"),this.nvren=StarlingSwfFactory.getInstance().makeMc("nvren"),this.weixian=ResourceUtils.createBitmapByName("weixianImage"),this.showsorce=new egret.TextField,this.showsorce.textColor=16777215,this.showsorce.bold=!0,this.showsorce.size=16,this.showsorce.strokeColor=0,this.uiLayer.addChild(this.weixian),this.uiLayer.addChild(this.sorcebar),this.uiLayer.addChild(this.barNumPic),this.uiLayer.addChild(this.showsorce),this.showSorce.scaleX=this.showSorce.scaleY=.8,this.uiLayer.addChild(this.nvren),this.nvren.gotoAndStop(0);var s=new egret.Sprite,a=ResourceUtils.createBitmapByName("optionbtnImage");s.addChild(a),s.touchEnabled=!0,s.x=Const.SCENT_WIDTH-s.width,s.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showMusicView,this),this.uiLayer.addChild(s),this.uiLayer.addChild(this.showSorce),this.showSorce.y=10,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,this.weixian.visible=!1,this.sorcebar.x=65,this.sorcebar.y=160,this.barNumPic.x=30,this.barNumPic.y=150,this.showsorce.x=120,this.showsorce.y=162,this.nvren.x=360,this.nvren.y=205,this.sorcebar.scaleX=GameData.winNum/GameData.fourWinNum,this.bar=ResourceUtils.createBitmapByName("gamingbarImage"),this.uiLayer.addChild(this.bar),this.bar.y=Const.SCENT_HEIGHT-2*this.bar.height+10,this.bar.x=Const.SCENT_WIDTH/2-this.bar.width/2,this.barMask=ResourceUtils.createBitmapByName("gamingbarMaskImage"),this.uiLayer.addChild(this.barMask),this.barMask.visible=!1,this.barMask.y=Const.SCENT_HEIGHT-2*this.barMask.height+10,this.barMask.x=Const.SCENT_WIDTH/2-this.barMask.width/2;var n=ResourceUtils.createBitmapByName("gameMaskBar");this.uiLayer.addChild(n),n.y=Const.SCENT_HEIGHT-1.5*n.height+3,n.x=Const.SCENT_WIDTH/2-n.width/2,this.showTimer=new egret.TextField,this.showTimer.x=Const.SCENT_WIDTH/2,this.showTimer.y=Const.SCENT_HEIGHT-35,this.showTimer.textColor=16777215,this.showTimer.bold=!0,this.showTimer.size=16,this.showTimer.strokeColor=0,this.uiLayer.addChild(this.showTimer),this.numTwo=ResourceUtils.createBitmapByName("cutTwoImage"),this.uiLayer.addChild(this.numTwo),this.numTwo.visible=!1,this.gameRight=ResourceUtils.createBitmapByName("rightImage"),this.topLayer.addChild(this.gameRight),this.gameWorng=ResourceUtils.createBitmapByName("worngImage"),this.topLayer.addChild(this.gameWorng),this.gameRight.x=Const.SCENT_WIDTH/2-this.gameRight.width/2,this.gameRight.y=Const.SCENT_HEIGHT/2-this.gameRight.height/2,this.gameWorng.x=Const.SCENT_WIDTH/2-this.gameWorng.width/2,this.gameWorng.y=Const.SCENT_HEIGHT/2-this.gameWorng.height/2,this.gameRight.visible=!1,this.gameWorng.visible=!1,this.con=ResourceUtils.createBitmapByName("gameWinOverImage"),this.topLayer.addChild(this.con),this.con.x=Const.SCENT_WIDTH/2-this.con.width/2,this.con.y=Const.SCENT_HEIGHT/2-this.con.height/2,this.con.visible=!1;var r=ResourceUtils.createBitmapByName("readyImage");this.topLayer.addChild(r),this.go=ResourceUtils.createBitmapByName("goImage"),this.topLayer.addChild(this.go);var h=Const.SCENT_WIDTH/2-r.width/2,o=Const.SCENT_HEIGHT/2-r.height/2;this.nogScaleX=Const.SCENT_WIDTH/2-r.width/2,this.nogScaleY=Const.SCENT_HEIGHT/2-r.height/2,r.scaleX=.1,r.scaleY=.1,this.go.scaleX=.1,this.go.scaleY=.1,this.go.x=Const.SCENT_WIDTH/2,this.go.y=Const.SCENT_HEIGHT/2,r.x=Const.SCENT_WIDTH/2,r.y=Const.SCENT_HEIGHT/2,r.visible=!1,this.go.visible=!1,r.visible=!0,this.soundView=new SoundPopView,this.addChild(this.soundView),this.soundView.visible=!1,egret.Tween.get(r).wait(400).to({scaleX:1,scaleY:1,x:h,y:o},200).to({visible:!1},300).call(this.aaa,this)},e.prototype.showMusicView=function(t){GameData.isClickBtn=!0,this.soundView.visible=!0,GameData.isPause=!1,this.curNum=egret.getTimer()},e.prototype.aaa=function(){this.go.visible=!0,SoundUtils.instance().playReadyGo(),egret.Tween.get(this.go).to({scaleX:1,scaleY:1,x:this.nogScaleX,y:this.nogScaleY},200).to({visible:!1},300).call(this.bbb,this)},e.prototype.bbb=function(){egret.Tween.removeAllTweens(),SoundUtils.instance().playBg(),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.initGameView()},e.prototype.initGameView=function(){this.randomView(),this.showCurGameViewBg()},e.prototype.randomView=function(){this.randomCurView(),this.randomLastView()},e.prototype.randomCurView=function(){for(var t,e=0,i=1,s=6;s>i;i++)e=Math.round(2*Math.random()+1),1==e?(t=StarlingSwfFactory.getInstance().makeMc("mc4Btn1Efc"),t.name="1",t.gotoAndStop(0)):2==e?(t=StarlingSwfFactory.getInstance().makeMc("mc4Btn2Efc"),t.name="2",t.gotoAndStop(0)):3==e&&(t=StarlingSwfFactory.getInstance().makeMc("mc4Btn3Efc"),t.name="3",t.gotoAndStop(0)),this.curSp.addChild(t),t.scaleX=t.scaleY=.8,t.x=78*i,t.y=90,this.typeCurArr.push(t)},e.prototype.randomLastView=function(){for(var t,e=0,i=1,s=6;s>i;i++)e=Math.round(2*Math.random()+1),1==e?(t=StarlingSwfFactory.getInstance().makeMc("mc4Btn1Efc"),t.name="1"):2==e?(t=StarlingSwfFactory.getInstance().makeMc("mc4Btn2Efc"),t.name="2"):3==e&&(t=StarlingSwfFactory.getInstance().makeMc("mc4Btn3Efc"),t.name="3"),t.gotoAndStop(0),this.lastSp.addChild(t),t.scaleX=t.scaleY=.8,t.x=78*i,t.y=90,this.typeLastArr.push(t)},e.prototype.showCurGameViewBg=function(){this.curArr=1,this.curGameViewBg.scaleX=this.curGameViewBg.scaleY=.7,this.curGameViewBg.y=0,this.lastGameViewBg.visible=!1;var t=Const.SCENT_WIDTH/2-this.curGameViewBg.width/2,e=150;this.curGameViewBg.x=Const.SCENT_WIDTH/2-this.curGameViewBg.width/2+this.curGameViewBg.width/8,egret.Tween.get(this.curGameViewBg).to({x:t,y:e,scaleX:1,scaleY:1,alpha:1},350).call(this.showLast,this)},e.prototype.showLast=function(){this.lastGameViewBg.visible=!0,this.lastGameViewBg.scaleX=this.lastGameViewBg.scaleY=.7;var t=Const.SCENT_WIDTH/2-this.lastGameViewBg.width/2+this.lastGameViewBg.width/8;this.lastGameViewBg.x=-Const.SCENT_WIDTH,this.lastGameViewBg.y=0,GameData.isStart=!0,egret.Tween.get(this.lastGameViewBg).to({x:t,scaleX:.7,scaleY:.7},350).call(this.startGame,this)},e.prototype.startGame=function(){GameData.isPause=!0,this.returnClick=!1,GameData.isStart=!1,GameData.isShow=!1},e.prototype.onEnterFrameHandler=function(t){if(GameData.isPause){if(2==GameData.dataTimer&&(this.daoJiShiTotalTime=this.daoJiShiTotalTime-4e3),GameData.isStart?(this.daoJiShiTotalTime+=egret.getTimer()-this.curNum,this.passTime=this.daoJiShiTotalTime-egret.getTimer(),GameData.isStart=!1):this.passTime=this.daoJiShiTotalTime-egret.getTimer(),this.num=Math.floor(this.passTime/1e3/2),this.bar.scaleX>=0){var e=1e3*(Math.floor(this.passTime/1e3*20)-2*GameData.dataTimer*20)/24e5;this.bar.scaleX=e,this.barMask.scaleX=e}if(this.showTimer.text=""+this.num,2==GameData.dataTimer){var i=this.bar.width/60*this.num+this.bar.x;this.popNum(i,this.bar.y)}GameData.dataTimer=0,this.num<=10&&(this.isPlaySound||(this.isPlaySound=!0,SoundUtils.instance().playTimewarningSound()),this.playBarMask||(this.playBarMask=!0,this.weixian.visible=!0,egret.Tween.get(this.barMask).to({visible:!0},100).to({visible:!1},100).call(this.canPlay,this)),this.canPlayNvren||(this.canPlayNvren=!0,this.nvren.goToPlay("2"),this.nvren.setCompleteAction(this.complete,this))),this.num<=0&&!this._win&&(this.showTimer.text="0",GameData.winNum=0,SoundUtils.instance().stopBg(),SoundUtils.instance().stopTimer(),this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.daoJiShiTotalTime=0,this.parent&&this.removeChildren(),egret.Tween.removeAllTweens(),GameSceneView.game.gameOver()),this.sorcebar.scaleX=GameData.winNum/GameData.fourWinNum;var s=GameData.winNum+"/"+GameData.fourWinNum;GameData.winNum>=10?this.showsorce.text=s:this.showsorce.text="0"+s,this.gameStart()}},e.prototype.canPlay=function(){this.playBarMask=!1,this.weixian.visible=!1},e.prototype.complete=function(){this.canPlayNvren=!1},e.prototype.gameStart=function(){GameData.isShow||(GameData.isShow=!0,this.showGame())},e.prototype.showGame=function(){this.clearData(),this.showGameView()},e.prototype.showGameView=function(){},e.prototype.btn1Func=function(){this.returnClick||(this.curTarget=1,SoundUtils.instance().playClick(),this.changeGameView())},e.prototype.btn2Func=function(){this.returnClick||(this.curTarget=2,SoundUtils.instance().playClick(),this.changeGameView())},e.prototype.btn3Func=function(){this.returnClick||(this.curTarget=3,SoundUtils.instance().playClick(),this.changeGameView())},e.prototype.changeGameView=function(){if(1==this.curArr){var t=parseInt(this.typeCurArr[this.okNum].name);if(t!=this.curTarget)return this.okNum=0,void this.showWorng();if(this.okNum+=1,this.typeCurArr[this.okNum-1].goToPlay("1"),5==this.okNum)return this.okNum=0,GameData.winNum+=1,GameData.sorce+=500,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2,GameData.winNum==GameData.fourWinNum?(this._win=!0,this.barMask.visible=!1,void egret.Tween.get(this.bar).to({scaleX:0},400,egret.Ease.sineIn).call(this.over,this)):void this.showRight();GameData.sorce+=100,this.showSorce.setValue(GameData.sorce+""),this.showSorce.x=Const.SCENT_WIDTH/2-this.showSorce.width/2}else if(2==this.curArr){var t=parseInt(this.typeLastArr[this.okNum].name);if(t!=this.curTarget)return this.okNum=0,void this.showWorng();if(this.okNum+=1,this.typeLastArr[this.okNum-1].goToPlay("1"),5==this.okNum)return this.okNum=0,GameData.winNum+=1,GameData.sorce+=500,GameData.winNum==GameData.fourWinNum?(GameData.isPause=!1,this.barMask.visible=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.showsorce.text=GameData.winNum+"/"+GameData.fourWinNum,SoundUtils.instance().stopBg(),SoundUtils.instance().stopTimer(),void egret.Tween.get(this.bar).to({scaleX:0},400).call(this.over,this)):void this.showRight();GameData.sorce+=100}},e.prototype.removeCurAll=function(){this.curSp.removeChildren(),this.typeCurArr=[]},e.prototype.removeLastAll=function(){this.lastSp.removeChildren(),this.typeLastArr=[]},e.prototype.over=function(){this.bar.visible=!1;var t=0,e=0;this.returnClick=!0,this.con.scaleX=2,this.con.scaleY=2,this.con.x=-this.con.width/2,this.con.y=-this.con.height/2,SoundUtils.instance().playEnd(),this.con.visible=!0,egret.Tween.get(this.con).to({scaleX:1,scaleY:1,x:t,y:e},400).wait(2e3).call(this.fun2,this)},e.prototype.fun2=function(){GameData.isPause=!1,GameData.curScene=5,this._win=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this),this.showTimer.text="0",this.gameView.removeChildren(),this.gameView.removeChildren(),this.uiLayer.removeChildren(),this.gameLayer.removeChildren(),this.topLayer.removeChildren(),this.daoJiShiTotalTime=0,this.parent&&this.removeChildren();var t=ResourceUtils.createBitmapByName("gameWinImage");this.addChild(t),this.share=new ShareView,this.addChild(this.share),this.share.visible=!1,egret.Tween.get(this.share).wait(2e3).call(this.showHomeView,this)},e.prototype.showHomeView=function(){egret.Tween.removeAllTweens(),this.share.visible=!0},e.prototype.clearData=function(){this.curTarget=0},e.prototype.showRight=function(){this.nvren.goToPlay("3"),GameData.isPause=!1,this.curNum=egret.getTimer(),this.returnClick=!0;var t=Const.SCENT_WIDTH/2-this.gameRight.width/2,e=Const.SCENT_HEIGHT/2-this.gameRight.height/2;this.gameRight.scaleX=2,this.gameRight.scaleY=2,this.gameRight.alpha=0,this.gameRight.x=t-this.gameRight.width/2,this.gameRight.y=e-this.gameRight.height/2,this.gameRight.visible=!0,SoundUtils.instance().playSemiclear(),egret.Tween.get(this.gameRight).to({alpha:1,scaleX:1,scaleY:1,x:t,y:e},300).call(this.showFightView,this).to({visible:!1},700)},e.prototype.showWorng=function(){this.nvren.goToPlay("1"),GameData.isPause=!1,GameData.dataTimer=2,this.curNum=egret.getTimer(),this.returnClick=!0;var t=this.gameWorng.x,e=this.gameWorng.y;this.gameWorng.scaleX=2,this.gameWorng.scaleY=2,this.gameWorng.alpha=.2,this.gameWorng.visible=!0,this.gameWorng.x=t-this.gameWorng.width/2,this.gameWorng.y=e-this.gameWorng.height/2,SoundUtils.instance().playError(),egret.Tween.get(this.gameWorng).to({alpha:1,scaleX:1,scaleY:1,x:t,y:e},300).call(this.showFightView,this).to({visible:!1},700)},e.prototype.showFightView=function(){1==this.curArr?this.showLastGameViewBg():2==this.curArr&&this.showCur1GameViewBg()},e.prototype.showCur1GameViewBg=function(){this.curArr=1;var t=Const.SCENT_WIDTH;egret.Tween.get(this.lastGameViewBg).to({x:t,scaleX:1,scaleY:1},350).call(this.showLast1View,this)},e.prototype.showLast1View=function(){this.removeLastAll(),this.randomLastView();var t=Const.SCENT_WIDTH/2-this.curGameViewBg.width/2,e=150;egret.Tween.get(this.curGameViewBg).to({x:t,y:e,scaleX:1,scaleY:1,alpha:1},350).call(this.showLast,this)
},e.prototype.showLastGameViewBg=function(){this.curArr=2;var t=Const.SCENT_WIDTH;this.curGameViewBg.x=Const.SCENT_WIDTH/2-this.curGameViewBg.width/2+this.curGameViewBg.width/8,egret.Tween.get(this.curGameViewBg).to({x:t,scaleX:1,scaleY:1},350).call(this.showLastView,this)},e.prototype.showLastView=function(){this.removeCurAll(),this.randomCurView();var t=Const.SCENT_WIDTH/2-this.lastGameViewBg.width/2,e=150;egret.Tween.get(this.lastGameViewBg).to({x:t,y:e,scaleX:1,scaleY:1},350).call(this.showCur,this)},e.prototype.showCur=function(){this.curGameViewBg.scaleX=this.curGameViewBg.scaleY=.7;var t=Const.SCENT_WIDTH/2-this.curGameViewBg.width/2+this.lastGameViewBg.width/8;this.curGameViewBg.x=-Const.SCENT_WIDTH,this.curGameViewBg.y=0,GameData.isStart=!0,egret.Tween.get(this.curGameViewBg).to({x:t,scaleX:.7,scaleY:.7},350).call(this.startGame,this)},e.prototype.popNum=function(t,e){this.numTwo.visible=!0,this.numTwo.alpha=0,this.numTwo.x=t-this.numTwo.width/2,this.numTwo.y=e,egret.Tween.get(this.numTwo).to({alpha:1,x:this.numTwo.x,y:this.numTwo.y-100},300).to({alpha:0},300)},e}(egret.Sprite);__reflect(GameFightFourScene.prototype,"GameFightFourScene");var StarlingSwfFactory=function(){function t(){this.swfAssetsManager=new starlingswf.SwfAssetManager,this.swfAssetsNames=new Array,this.swfAssets=new Array,this.swfData={}}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.addSwf=function(t,e,i){if(-1==this.swfAssetsNames.indexOf(t)){if(null==e||null==i)return void console.log("SWF加载失败:"+t);this.swfAssetsManager.addSpriteSheet(t,i);var s=new starlingswf.Swf(e,this.swfAssetsManager,24);s.name=t,StarlingSwfUtils.addSwf(s),this.swfAssetsNames.push(t),this.swfAssets.push(s)}},t.prototype.stopSwfs=function(t){for(var e=0,i=t.length;i>e;e++){var s=StarlingSwfUtils.getSwf(t[e]);s&&s.swfUpdateManager.stop()}},t.prototype.playSwfs=function(t){for(var e=0,i=t.length;i>e;e++){var s=StarlingSwfUtils.getSwf(t[e]);s&&s.swfUpdateManager.play()}},t.prototype.clearSwfs=function(){for(;this.swfAssets.length;)StarlingSwfUtils.removeSwf(this.swfAssets.pop());for(;this.swfAssetsNames.length;)this.swfAssetsNames.pop();this.swfAssetsManager=new starlingswf.SwfAssetManager},t.prototype.clear=function(){this.clearSwfs()},t.prototype.makeMc=function(t){var e=StarlingSwfUtils.createMovie("mc_"+t,null,StarlingSwfMovieClip);return null==e&&console.log("SWF创建失败: "+t),e},t.prototype.makeImage=function(t){return StarlingSwfUtils.createImage("img_"+t)},t.prototype.getTexture=function(t){return StarlingSwfUtils.getTexture("img_"+t)},t}();__reflect(StarlingSwfFactory.prototype,"StarlingSwfFactory");var StarlingSwfMovieClip=function(t){function e(e,i,s,a){var n=t.call(this,e,i,s,a)||this;return n.frameActions={},n.preFrame=-1,n.addEventListener(egret.Event.REMOVED_FROM_STAGE,n.onRemove,n),n}return __extends(e,t),e.prototype.onRemove=function(){this.stop()},e.prototype.setFrameAction=function(t,e,i,s){void 0===s&&(s=null),this.frameActions[t]=[e,i,s]},e.prototype.setCompleteAction=function(t,e){this.complateFunc=t,this.complateObj=e,this.addEventListener(egret.Event.COMPLETE,this.onPlayend,this)},e.prototype.onPlayend=function(){this.complateFunc&&this.complateFunc.call(this.complateObj)},e.prototype.goToPlay=function(t){this.preFrame=-1,this.currFrameName=t,this.gotoAndPlay(t)},e.prototype.update=function(){t.prototype.update.call(this);var e=this.getCurrentFrame();if(this.preFrame!=e&&(this.preFrame=e,this.frameActions&&this.frameActions[e])){var i=this.frameActions[e];i[2]?i[0].call(i[1],i[2]):i[0].call(i[1])}},e.prototype.dispose=function(){this.stop(),this.removeEventListener(egret.Event.COMPLETE,this.onPlayend,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this),this.parent&&this.parent.removeChild(this),this.complateFunc=null,this.complateObj=null,this.frameActions=null},e}(starlingswf.SwfMovieClip);__reflect(StarlingSwfMovieClip.prototype,"StarlingSwfMovieClip");var StarlingSwfUtils=function(){function t(){}return t.addSwf=function(e){t.swfList.push(e)},t.removeSwf=function(e){var i=t.swfList.indexOf(e);-1!=i&&t.swfList.splice(i,1)},t.createSprite=function(e,i,s){void 0===i&&(i=null),void 0===s&&(s=null);for(var a=t.swfList.length,n=0;a>n;n++){var r=t.swfList[n];if(r.hasSprite(e))return r.createSprite(e,i,s)}return null},t.createImage=function(e,i){void 0===i&&(i=null);for(var s=t.swfList.length,a=0;s>a;a++){var n=t.swfList[a];if(n.hasImage(e))return n.createImage(e,i)}return null},t.getTexture=function(e){for(var i=t.swfList.length,s=0;i>s;s++){var a=t.swfList[s];if(a.hasImage(e))return a.getTexture(e)}return null},t.createMovie=function(e,i,s){void 0===i&&(i=null),void 0===s&&(s=null);for(var a=t.swfList.length,n=0;a>n;n++){var r=t.swfList[n];if(r.hasMovieClip(e))return r.createMovie(e,i,s)}return null},t.createS9Image=function(e,i){void 0===i&&(i=null);for(var s=t.swfList.length,a=0;s>a;a++){var n=t.swfList[a];if(n.hasS9Image(e))return n.createS9Image(e,i)}return null},t.createShapeImage=function(e,i){void 0===i&&(i=null);for(var s=t.swfList.length,a=0;s>a;a++){var n=t.swfList[a];if(n.hasShapeImage(e))return n.createShapeImage(e,i)}return null},t.getSwf=function(e){for(var i=t.swfList.length,s=0;i>s;s++){var a=t.swfList[s];if(a.name==e)return a}return null},t.fixButton=function(e,i,s){t.firstAddBtn&&(t.firstAddBtn=!1,egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),egret.MainContext.instance.stage.addEventListener(egret.Event.LEAVE_STAGE,this.onTouchEnd,this));var a=new StarlingSwfButtonData;a.btn=e,a.onClick=i,a.thisObj=s,t.btnList.push(a),e.touchEnabled=!0,e.gotoAndStop(0),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBtnTouchBegin,e)},t.onBtnTouchBegin=function(e){for(var i=e.currentTarget,s=t.btnList.length,a=0;s>a;a++){var n=t.btnList[a];if(n.btn==i){n.touchStageX=e.stageX,n.touchStageY=e.stageY,i.gotoAndStop(1);break}}},t.onTouchEnd=function(e){for(var i=t.btnList.length,s=0;i>s;s++){var a=t.btnList[s];-1!=a.touchStageX&&(e.stageX&&Math.abs(a.touchStageX-e.stageX)<10&&Math.abs(a.touchStageY-e.stageY)<10&&a.onClick&&a.onClick.call(a.thisObj,e),a.touchStageX=-1,a.touchStageY=-1,a.btn.gotoAndStop(0))}},t}();StarlingSwfUtils.swfList=[],StarlingSwfUtils.btnList=[],StarlingSwfUtils.firstAddBtn=!0,__reflect(StarlingSwfUtils.prototype,"StarlingSwfUtils");var StarlingSwfButtonData=function(){function t(){this.touchStageX=-1,this.touchStageY=-1}return t}();__reflect(StarlingSwfButtonData.prototype,"StarlingSwfButtonData");var Main=function(t){function e(){var e=t.call(this)||this;return e._loadTimes=0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),RES.registerAnalyzer("starlingswf_sheet",starlingswf.StarlingSwfSheetAnalyzer),e}return __extends(e,t),e.prototype.onAddToStage=function(t){window.hasOwnProperty("EgretShare")?console.log("EgretShare"):window.setShareInfo=function(){},Const.SCENT_WIDTH=this.stage.stageWidth,Const.SCENT_HEIGHT=this.stage.stageHeight,this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/resource.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onGroupErr,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemErr,this),RES.createGroup("initLoad",["preload","bgPic","animation","sound"]),RES.loadGroup("initLoad")},e.prototype.onItemErr=function(t){},e.prototype.onGroupErr=function(t){this._loadTimes++,this._loadTimes>10?AlertPanel.i().showErr("网络异常，请重新进入游戏"):RES.loadGroup(t.groupName)},e.prototype.onResourceLoadComplete=function(t){"initLoad"==t.groupName&&this.loadingView.onLoadComplete(this.onStartGame,this)},e.prototype.onResourceProgress=function(t){"initLoad"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.onStartGame=function(){this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.initAnimationData(),this.createGameScene()},e.prototype.createGameScene=function(){Const.GamePoxY=0,GameData.curScene=1;var t=new egret.Rectangle;t.width=Const.SCENT_WIDTH,t.height=Const.SCENT_HEIGHT,t.y=Const.GamePoxY,SoundUtils.instance().initSound(),this._scene=new GameSceneView,this._scene.y=Const.GamePoxY,this._scene.width=Const.SCENT_WIDTH,this._scene.height=Const.SCENT_HEIGHT,this._scene.mask=t,this.addChild(this._scene)},e.prototype.initAnimationData=function(){for(var t=["guanka001","guanka002","guanka003","guanka004","nvren","kuang"],e=0,i=t.length;i>e;e++){var s=t[e];StarlingSwfFactory.getInstance().addSwf(s,RES.getRes(s+"_swf"),RES.getRes(s))}},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.logoUrl="resource/assets/loading_logo.png",e.bgUrl="resource/assets/loading_bg.jpg",e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.w=Const.SCENT_WIDTH,this.h=Const.SCENT_HEIGHT,this.textField=new egret.TextField,this.textField.y=500,this.textField.textColor=3355443,this.textField.size=23,this.textField.width=this.w,this.textField.height=100,this.textField.fontFamily="Black",this.textField.textAlign="center",this.textField_power=new egret.TextField,this.textField_power.y=.9*this.h,this.textField_power.textColor=3355443,this.textField_power.width=this.w,this.textField_power.height=100,this.textField_power.size=20,this.textField_power.text="来自美和视琦",this.textField_power.fontFamily="Black",this.textField_power.textAlign="center";var t=new egret.URLLoader;t.addEventListener(egret.Event.COMPLETE,this.onComplete,this),t.dataFormat=egret.URLLoaderDataFormat.TEXTURE,t.load(new egret.URLRequest(this.logoUrl));var t=new egret.URLLoader;t.addEventListener(egret.Event.COMPLETE,this.onComplete,this),t.dataFormat=egret.URLLoaderDataFormat.TEXTURE,t.load(new egret.URLRequest(this.bgUrl)),this.bg=new egret.Bitmap,this.logo=new egret.Bitmap,this.uiContainer=new egret.DisplayObjectContainer,this.addChild(this.uiContainer),this.addChild(this.logo),this.addChildAt(this.bg,0),this.addChild(this.textField),this.addChild(this.textField_power)},e.prototype.onComplete=function(t){var e=t.target,i=e.data;e._request.url==this.bgUrl?(this.bg.texture=i,this.bg.scaleX=this.w/640,this.bg.scaleY=this.h/960):e._request.url==this.logoUrl&&(this.logo.texture=i,this.logo.anchorOffsetX=.5*this.logo.width,this.logo.anchorOffsetY=.5*this.logo.height,this.logo.x=this.w/2,this.logo.y=this.h/2-60,this.logo.scaleX=this.logo.scaleY=this.h/960,this.textField.y=this.logo.y+100)},e.prototype.setProgress=function(t,e){var i=Math.floor(t/e*100);this.textField.text="训练加载中…"+i+"%"},e.prototype.onLoadComplete=function(t,e){t.call(e)},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var GameData=function(){function t(){}return t}();GameData.curScene=0,GameData.dataTimer=0,GameData.winNum=0,GameData.sorce=0,GameData.threeWinNum=20,GameData.fourWinNum=30,GameData.overIsWin=!0,GameData.n=["1","0",".","0",".","4",".","1","8","2",":","3","0","0","0"],__reflect(GameData.prototype,"GameData");var GameVO=function(){function t(){}return t}();__reflect(GameVO.prototype,"GameVO");